(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"assets/images/edit.68af16e96863fc866966..svg",n=e.p+"assets/images/comment.b2e93f407983f8a37809..svg",r=e.p+"assets/images/check-bold.a927dad6e453eb05cdc0..svg",a=e.p+"assets/images/inbox.87400f365ded3aca530c..svg",o=e.p+"assets/images/pentagon.7fbfa2bf67f591da8110..svg",i=e.p+"assets/images/more-dots.c651c65b46092ada6f39..svg",c=e.p+"assets/images/add.c8b39a336d92d4c5c69f..svg",s=e.p+"assets/images/more.a0d7c76b47bf772d4197..svg";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===l(o)?o:String(o)),r)}var a,o}const d=function(){var e=[],t=document.querySelector(".add-task-container .project-picker"),n=document.querySelector(".sidebar > ul:last-of-type"),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.color=n,this.subProjects=[],this.availableColors=["yellow","orange","red","lime","teal","cyan","purple","neutral"]}var t,n,r;return t=e,n=[{key:"createSubProject",value:function(e){this.subProjects.push({name:e})}},{key:"getTemplateHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"Inbox"===this.name?'<img src="'.concat(a,'" alt="select-project"><p>').concat(this.name,"</p>"):'<div style="display:flex;align-items:center; gap: 6px">\n            <div class="bullet" style="background-color: '.concat(this.colorValue,'"></div><p>').concat(this.name).concat(null===e?"":"/"+this.subProjects[e].name,"</p>\n            </div>")}},{key:"colorValue",get:function(){switch(this.color){case"yellow":return"#facc15";case"orange":return"#f97316";case"red":return"#ef4444";case"lime":return"#a3e635";case"teal":return"#14b8a6";case"cyan":return"#22d3ee";case"purple":return"#a855f7";case"neutral":return"#737373"}}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=function(){var t='\n        <figcaption>\n            <p>Projects</p>\n            <img class="svg" src="'.concat(c,'" alt="add">\n            <img class="svg" src="').concat(s,'" alt="more">\n        </figcaption>');e.forEach((function(e){var n,r;"Inbox"!==e.name&&(t+=(n=e.colorValue,r=e.name,'<li>\n            <div class="bullet" style="background-color: '.concat(n,'"></div>\n            <p>').concat(r,'</p>\n            <p class="counter"></p>\n            <img class="svg" src="').concat(i,'" alt="more">\n        </li>')))})),n.innerHTML=t},p=function(){var n='<input type="text" placeholder="Type a project">',i='\n        <div class="inbox">\n            <img src="'.concat(a,'" alt="inbox">\n            <p>Inbox</p>\n            <img class="projectChecked active" src="').concat(r,'" alt="checked">\n        </div>');n+=i;e.forEach((function(e){if("Inbox"!==e.name){var t,a,i="";e.subProjects.forEach((function(e){return i+=(t=e.name,'\n            <li>\n                <img src="'.concat(o,'" alt="el">\n                <p>').concat(t,'</p>\n                <img class="projectChecked" src="').concat(r,'" alt="checked">\n            </li>'));var t})),n+=(t=e.name,a=i,'\n        <ul>\n            <figcaption>\n                <div class="bullet"></div>\n                <p style="padding-left: 11px;">'.concat(t,'</p>\n                <img class="projectChecked" src="').concat(r,'" alt="checked">\n            </figcaption>\n            ').concat(a,"\n        </ul>"))}})),t.innerHTML=n};e.push(new l("Inbox","")),e.push(new l("Home","neutral")),e[1].createSubProject("Routines"),e[1].createSubProject("Inspiration"),p(),d();return{getAllProjects:function(){return e},createProject:function(t,n){var r=new l(t.trim(),n);return e.push(r),r},updateProjectPicker:p,updateProjectsSidebar:d}}(),p=e.p+"assets/images/pricetag-outline.39a8b1f892b85eed7e62..svg",f=e.p+"assets/images/calendar-edit-svgrepo-com.229e222ede1f705edccb..svg";function y(e,t,n){return y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&m(a,n.prototype),a},y.apply(null,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=[],i=function(e){var t="";return e.forEach((function(e){return t+=(n=e.split("@")[1],'<div class="label"><img src="'.concat(p,'" alt="label"> <p>').concat(n,"</p></div>"));var n})),t};function c(e,t,n,r,a,i){this.id=o.length+1,this.creationDate=new Date,this.priority=e,this.taskName=t,this.description=n,this.dueDate=r,this.projectName=a,this.labels=i}c.prototype.getDateObj=function(){if(this.dueDate){var e=this.dueDate.time===["00","00"]?"":this.dueDate.time.split(":");return y(Date,[this.dueDate.year,this.dueDate.month,this.dueDate.day].concat(v(e)))}},c.prototype.pushToTasks=function(){o.push(this)};var s,l,u,m=function(e){var t=e.priority,n=void 0===t?4:t,r=e.taskName,a=e.description,o=void 0===a?"":a,i=e.dueDate,s=void 0===i?null:i,l=e.projectName,u=void 0===l?{element:d.getAllProjects()[0],sideProjectIndex:null}:l,p=e.labels,f=new c(n,r,o,s,u,void 0===p?null:p);return f.pushToTasks(),f};s=new Date(2023,2,25),l=new Date(2023,2,25),u=new Date(2023,2,24),m({taskName:"Task 1"}),m({taskName:"Task 2"}),m({priority:1,taskName:"Task3",description:"some text some text",dueDate:{year:s.getFullYear(),month:s.getMonth(),day:s.getDate(),weekDay:s.getDay(),repeat:"",time:"".concat((s.getHours()<10?"0":"")+s.getHours(),":").concat((s.getMinutes()<10?"0":"")+s.getMinutes()),toText:function(){return"".concat(e[this.weekDay]," ").concat(this.day," ").concat(a[this.month]).concat(this.year===(new Date).getFullYear()?"":this.year).concat("00:00"===this.time?"":this.time)}},projectName:{element:d.getAllProjects()[0],subProjectIndex:null},labels:null}),m({priority:2,taskName:"Task4",description:"",dueDate:{year:l.getFullYear(),month:l.getMonth(),day:l.getDate(),weekDay:l.getDay(),repeat:"",time:"".concat((l.getHours()<10?"0":"")+l.getHours(),":").concat((l.getMinutes()<10?"0":"")+l.getMinutes()),toText:function(){return"".concat(e[this.weekDay]," ").concat(this.day," ").concat(a[this.month]).concat(this.year===(new Date).getFullYear()?"":this.year).concat("00:00"===this.time?"":this.time)}},projectName:{element:d.getAllProjects()[1],subProjectIndex:0},labels:null}),m({priority:3,taskName:"Task5 @read",description:"some text some textsome text some textsome text some textsome text some text",dueDate:{year:u.getFullYear(),month:u.getMonth(),day:u.getDate(),weekDay:u.getDay(),repeat:"",time:"".concat((u.getHours()<10?"0":"")+u.getHours(),":").concat((u.getMinutes()<10?"0":"")+u.getMinutes()),toText:function(){return"".concat(e[this.weekDay]," ").concat(this.day," ").concat(a[this.month]).concat(this.year===(new Date).getFullYear()?"":this.year).concat("00:00"===this.time?"":this.time)}},projectName:{element:d.getAllProjects()[0],subProjectIndex:null},labels:["@read"]});return{taskTemplate:function(e,a,o,c,s,l,u){var d=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return"\n    <li data-id=".concat(e,'>\n        <div class="top">\n            <div class="priority-box">\n                <div class="').concat(a,'"><img class="svg" src="').concat(r,'" alt="checkmark"></div>\n            </div>\n            <div class="text">\n                <div class="task-name">\n                    <p>').concat(o,'</p>\n                </div>\n                <div class="description">\n                    <p>').concat(c,'</p>\n                </div>\n            </div>\n            <div class="icons">\n                <div><img class="svg grayFilter" src="').concat(f,'" alt="options"></div>\n                <div><img class="svg grayFilter" src="').concat(t,'" alt="options"></div>\n                <div><img class="svg grayFilter" src="').concat(n,'" alt="options"></div>\n            </div>\n        </div>\n        <div class="bottom">\n            <div class="date').concat(d?" overdue":"",'">\n                <img src="').concat(f,'" alt="date">\n                <p>').concat(s,"</p>\n            </div>\n            ").concat(i(u),'\n            <div class="project-name">\n                ').concat(l,"\n            </div>\n        </div>\n    </li>\n    ")},createTask:m,howManyTasksInSpecifiedDay:function(e){return o.filter((function(t){return t.dueDate&&t.dueDate.year===e.getFullYear()&&t.dueDate.month===e.getMonth()&&t.dueDate.day===e.getDate()}))},getPriorityClassName:function(e){switch(e){case 1:return"prioOne";case 2:return"prioTwo";case 3:return"prioThree";case 4:return"prioFour"}},getAllTasks:function(){return o},taskNameWithoutLabels:function(e){return e.replace(/@[^ @]+/g,"").replace(/\s+/g," ")},howManyTasksInProject:function(e){return o.filter((function(t){return t.projectName.element.name===e}))},removeTask:function(e){return o.splice(o.findIndex((function(t){return t.id===e})),1)}}}();const b=h,k=e.p+"assets/images/flag.a90c150f39e42a1d2bfb..svg",S=e.p+"assets/images/flag-outline.8c3b13a976400f62fb2b..svg",T=e.p+"assets/images/tag.00341c400f8266a201fd..svg",x=e.p+"assets/images/invalid.290e2c5bf82e9217c304..svg",w=e.p+"assets/images/valid.3f0999b760840fde2086..svg",L=e.p+"assets/images/event_available.2125eca30640c00c8839..svg",D=e.p+"assets/images/event_busy.7a28914b55d442a605ee..svg";const E={names:["read","write","create","videos","podcasts","business","family"],isInExistingLabels:function(e,t){var n,r=e.split("@");return n=t?new RegExp("^".concat(r[1],"$"),"i"):new RegExp("^".concat(r[1]),"i"),this.names.filter((function(e){return n.test(e)}))}};var q=function(e,t){return"".concat(b.taskTemplate(e.id,b.getPriorityClassName(e.priority),b.taskNameWithoutLabels(e.taskName),e.description,e.dueDate?e.dueDate.toText():"",e.projectName.element.getTemplateHTML(e.projectName.subProjectIndex),e.labels||[],t))};function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e,t,n,r){var a=document.querySelectorAll(".container > ul li .icons > div:first-of-type"),o=document.querySelectorAll(".container > ul li .bottom .date"),i=[].concat(j(a),j(o)),c=document.querySelectorAll(".container > ul li .icons > div:nth-of-type(2)"),s=document.querySelectorAll(".container > div.add-task");e?(t&&i.forEach((function(e){return e.addEventListener("click",t,{once:!0})})),n&&c.forEach((function(e){return e.addEventListener("click",n,{once:!0})})),r&&s.forEach((function(e){return e.addEventListener("click",r)}))):(i.forEach((function(e){return e.removeEventListener("click",t)})),c.forEach((function(e){return e.removeEventListener("click",n)})),s.forEach((function(e){return e.removeEventListener("click",r)})))};const N=function(){var e=document.querySelector(".today .overdue"),t=document.querySelector(".today .today-tasks"),n=document.querySelector(".today .title .date"),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=new Date;o.setHours(0,0,0,0);var i,c=function(e){return e.filter((function(e){return!!e.getDateObj()&&e.getDateObj()<o}))},s=function(e){return e.filter((function(e){return!!e.getDateObj()&&(e.getDateObj().getDate()===o.getDate()&&e.getDateObj().getMonth()===o.getMonth()&&e.getDateObj().getFullYear()===o.getFullYear())}))};i="",b.getAllTasks().forEach((function(n){var r=c([n]).length>0,a=s([n]).length>0;i=r?q(n,!0):q(n),r?e.insertAdjacentHTML("beforeend",i):a&&t.insertAdjacentHTML("beforeend",i)})),t.querySelector("h4").innerText="".concat(r[o.getDay()]," - ").concat(o.getDate()," ").concat(a[o.getMonth()]," - Today"),n.innerText="".concat(r[o.getDay()]," ").concat(o.getDate()," ").concat(a[o.getMonth()]);return{overdueTasks:c,todayTasks:s}}();function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||F(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return e}(e)||F(e)||P(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var H=function(){var e,t=document.querySelector("#content > .add-task-container"),n=document.querySelector(".today .overdue"),r=document.querySelector(".today .today-tasks"),a=B(document.querySelectorAll(".main-container > .project")).slice(0),o=document.querySelector(".main-container > .today"),i=function(e){return b.getAllTasks().find((function(t){return t.id===e}))};M(!0,null,l);var c=function(e,t){var i=N.overdueTasks([e]).length>0,c=N.todayTasks([e]).length>0,s=i?q(e,!0):q(e),l=function(){return(new DOMParser).parseFromString(s,"text/html").querySelector("li")},u=a.find((function(e){return e.querySelector('li[data-id="'.concat(t,'"]'))})),d=C(u.querySelectorAll("ul:not(:first-of-type)")).find((function(e){return e.querySelector('li[data-id="'.concat(t,'"]'))})),p=u.querySelector('li[data-id="'.concat(t,'"]')),f=function(){var t=l();e.dueDate||t.querySelector(".bottom > .date").classList.add("empty-date"),p.replaceWith(t)},y=function(t){p.remove();var n=document.querySelector(t),r=l();e.dueDate||r.querySelector(".bottom > .date").classList.add("empty-date"),n.appendChild(r)};if("number"==typeof e.projectName.subProjectIndex){var m=e.projectName.element.name.toLowerCase(),v=e.projectName.element.subProjects[e.projectName.subProjectIndex].name.toLowerCase(),g=".main-container > .".concat(m," > ul.").concat(v);d&&d.classList.contains(v)?f():y(g)}else{var h=e.projectName.element.name.toLowerCase(),b=".main-container > .".concat(h);u.classList.contains(h)?f():y(b)}var k=n.querySelector('li[data-id="'.concat(t,'"]')),S=r.querySelector('li[data-id="'.concat(t,'"]'));if(i&&k||c&&S){o.querySelector('li[data-id="'.concat(t,'"]')).replaceWith(l())}else{var T=o.querySelector('li[data-id="'.concat(t,'"]'));T&&T.remove(),i?n.appendChild(l()):c&&r.appendChild(l())}};function l(n){M(!1,Y.showDatePicker,l,R.showAddTaskBox);var r=t.cloneNode(!0),a=(e=n.currentTarget.parentNode.parentNode.parentNode).querySelector(".top"),o=e.querySelector(".bottom");r.classList.add("edit-task-container"),a.style.display="none",o.style.display="none",e.appendChild(r),u({editTaskContainer:r,taskId:e.dataset.id,topEl:a,bottomEl:o})}var u=function(e){var t=e.editTaskContainer,n=e.taskId,r=e.topEl,a=e.bottomEl;te.events(!0),te.setData(t),te.setEditMode(!0),te.getAllButtons(!1),te.events(!1),p(t,n);var o=t.querySelector(".bottom > button.cancel-btn"),i=t.querySelector(".bottom > button.add-btn");o.addEventListener("click",d.bind({el:t,topEl:r,bottomEl:a},!1),{once:!0}),i.addEventListener("click",d.bind({el:t,topEl:r,bottomEl:a,id:n},!0),{once:!0})};function d(e,n){var r=i(+this.id);e&&function(e,t){var n=te.getTaskData();Object.keys(n).forEach((function(t){return e[t]=n[t]})),c(e,t)}(r,+this.id),te.events(!0),te.setData(t),te.setEditMode(!1),te.getAllButtons(!0),te.events(!1),e||(this.topEl.style.display="flex",this.bottomEl.style.display="flex",this.el.remove()),M(!0,Y.showDatePicker,l,R.showAddTaskBox)}var p=function(e,t){var n=i(+t);te.setTaskData(n);var r=e.querySelector(".top .inputs > div > input"),a=e.querySelector(".top .inputs > input"),o=e.querySelector(".top .flex-container > .priority .btn"),c=e.querySelectorAll(".top .flex-container > .priority .priority-picker > div"),l=e.querySelector(".bottom .select-project"),u=e.querySelectorAll(".bottom .project-picker img.projectChecked"),d=B(e.querySelectorAll(".bottom .project-picker > * p")).slice(0),p=e.querySelector(".bottom > button.add-btn");r.value=n.taskName,r.dispatchEvent(new Event("click")),r.focus(),a.value=n.description,n.labels&&te.setAllUniqueMatchesInsideTaskName(n.labels),te.contentPriorityBtn(o,n.priority),c.forEach((function(e){return+e.dataset.priority===n.priority?e.classList.add("checked"):e.classList.remove("checked")})),n.projectName.subProjectIndex?l.innerHTML=n.projectName.element.getTemplateHTML(n.projectName.subProjectIndex)+'<img src="'.concat(s,'" alt="expand">'):l.innerHTML=n.projectName.element.getTemplateHTML()+'<img src="'.concat(s,'" alt="expand">'),u.forEach((function(e){return e.classList.contains("active")?e.classList.remove("active"):e})),n.projectName.subProjectIndex?d.find((function(e){return e.innerText===n.projectName.element.subProjects[n.projectName.subProjectIndex].name})).nextElementSibling.classList.add("active"):d.find((function(e){return e.innerText===n.projectName.element.name})).nextElementSibling.classList.add("active"),n.dueDate?te.styleDueDateBtn(new Date(n.dueDate.year,n.dueDate.month,n.dueDate.day)):te.styleDueDateBtn(null),p.style.cssText="opacity: 1; cursor: pointer;",p.innerText="Save"};return{editTask:c,showEditTaskBox:l}}();const O=H;const Y=function(){var e,t,n=document.querySelector("#content > .add-task-container .top .flex-container .due-date .date-picker"),r=document.querySelector("#content > .add-task-container");function a(r){r.stopImmediatePropagation(),M(!1,a,O.showEditTaskBox,R.showAddTaskBox),(e=n.cloneNode(!0)).classList.add("edit-date-picker"),e.classList.add("show"),(t=r.currentTarget).style.position="relative",t.appendChild(e);var o=t.closest("[data-id]");te.events(!0),i(+o.dataset.id)}M(!0,a);var o=function(){return{addTaskContainer:t,dueDate:""}},i=function(t){te.datePicker(o);var n=e.querySelector(".pick-icon"),i=e.querySelector(".calendar .months"),c=function(e){return b.getAllTasks().find((function(t){return t.id===e}))}(t);document.addEventListener("click",(function o(s){if(s.target!=e&&!e.contains(s.target)||n.contains(s.target)||i.contains(s.target)&&"LI"===s.target.tagName&&!s.target.classList.contains("past")){var l=te.getDueDate();""!=l&&(c.dueDate=l,O.editTask(c,t)),document.removeEventListener("click",o),e.remove(),te.setData(r),te.events(!1),te.setEditMode(!1),te.getAllButtons(!0),M(!0,a,O.showEditTaskBox,R.showAddTaskBox)}}))};return{showDatePicker:a}}();const R=function(){var e,t=document.querySelector("#content > .add-task-container");function n(e){M(!1,Y.showDatePicker,O.showEditTaskBox,n);var a=e.currentTarget.previousElementSibling,o=t.cloneNode(!0);o.classList.add("add-task-container-inline"),a.appendChild(o),e.currentTarget.style.display="none",r(o,e.currentTarget,a)}M(!0,null,null,n);var r=function(t,n,r){e=function(){t.remove(),n.style.display="flex"},te.events(!0),te.setData(t),te.getAllButtons(!1),te.events(!1),te.updateButtonsContentBasedOnTab(r),t.querySelector(".bottom > button.cancel-btn").addEventListener("click",a,{once:!0})};function a(r){te.events(!0),te.setData(t),te.getAllButtons(!0),te.events(!1),e(),M(!0,Y.showDatePicker,O.showEditTaskBox,n)}return{showAddTaskBox:n,deleteTaskBox:a}}();function J(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(){var e=document.querySelectorAll(".main-container > .project"),t=new Date;t.setHours(0,0,0,0);e.forEach((function(e){var n;(n=e,b.getAllTasks().filter((function(e){return J(n.classList).includes(e.projectName.element.name.toLowerCase())}))).forEach((function(n){var r="",a=function(e){return!!e.getDateObj()&&e.getDateObj()<t}(n);if("number"==typeof n.projectName.subProjectIndex){var o=n.projectName.element.subProjects[n.projectName.subProjectIndex].name.toLowerCase(),i=e.querySelector(".".concat(o));a?r=q(n,!0):q(n),i.innerHTML+=r}else{var c=e.querySelector("ul:first-of-type");if(r=a?q(n,!0):q(n),n.dueDate)c.innerHTML+=r;else{var s=(new DOMParser).parseFromString(r,"text/html").querySelector("li");s.querySelector(".bottom > .date").classList.add("empty-date"),c.appendChild(s)}}}))}));return{allTasksElements:document.querySelectorAll(".main-container > .container > ul > li")}}();const $=V;const W=function(){var e=[];function t(e){var t=e.currentTarget.parentNode.parentNode.dataset.id;document.querySelectorAll('.main-container > .container > ul > li[data-id="'.concat(t,'"]')).forEach((function(e){return e.remove()})),b.removeTask(+t),console.log(e.currentTarget)}$.allTasksElements.forEach((function(t){return e.push(t.querySelector(".top > .priority-box"))})),e.forEach((function(e){return e.addEventListener("click",t)}));return{activateTaskDoneBtn:function(e){return e.addEventListener("click",t)}}}();function _(e,t,n){return _=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&z(a,n.prototype),a},_.apply(null,arguments)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||Z(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return e}(e)||Z(e)||K(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var ee=function(){var e,t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(e){return{showHideBtn:[],addTaskContainer:e,addBtn:e.querySelector("button.add-btn"),cancelBtn:e.querySelector("button.cancel-btn"),taskName:e.querySelector(".inputs div:first-child input"),description:e.querySelector(".inputs input:nth-child(2)"),labelBox:e.querySelector(".label-box"),expandArrow:e.querySelector(".date-picker .input-validation-text .date-req img"),dateReqText:e.querySelector(".date-picker .input-validation-text > div:nth-of-type(2) ul"),transparentFilterBg:document.querySelector(".filter-background-transparent"),priority:4,dueDate:null,projectName:{element:d.getAllProjects()[0],sideProjectIndex:null},labels:null,isLabelBoxVisible:!1,activeLabelBoxItem:null,currLabelBasedOnCaretPos:null,dateUtilFunctions:null,caretPos:null,allUniqueMatchesInsideTaskName:[],isLabelRepeated:null,editMode:!1}},i=function(t){return e=o(t)};i(document.querySelector("#content > .add-task-container"));var c=function(t){var n=b.createTask({priority:e.priority,taskName:e.taskName.value,description:e.description.value,dueDate:e.dueDate,projectName:e.projectName,labels:e.labels}),r=q(n,!1),a=n.projectName.subProjectIndex,o=n.projectName.element.name.toLowerCase(),i=function(){return(new DOMParser).parseFromString(r,"text/html").querySelector("li")};if("number"==typeof a){var c=n.projectName.element.subProjects[a].name.toLowerCase(),s=document.querySelector(".main-container > .".concat(o," > ul.").concat(c)),l=i();n.dueDate||l.querySelector(".bottom > .date").classList.add("empty-date"),W.activateTaskDoneBtn(l.querySelector(".top > .priority-box")),s.appendChild(l)}else{var u=document.querySelector(".main-container > .".concat(o," > ul:first-of-type")),d=i();n.dueDate||d.querySelector(".bottom > .date").classList.add("empty-date"),W.activateTaskDoneBtn(d.querySelector(".top > .priority-box")),u.appendChild(d)}if(N.todayTasks([n]).length>0){var p=document.querySelector(".main-container > .today > ul.today-tasks"),f=i();W.activateTaskDoneBtn(f.querySelector(".top > .priority-box")),p.appendChild(f)}e.showHideBtn.forEach((function(e){e.el.active=!1,e.el.classList.remove(e.className)})),F(),e.addTaskContainer.classList.contains("add-task-container-inline")&&R.deleteTaskBox(t)},l=function(){""===e.taskName.value?(e.addBtn.style.cssText="opacity: 0.6; cursor:not-allowed;",e.addBtn.removeEventListener("click",c)):(e.addBtn.style.cssText="opacity: 1; cursor: pointer;",e.editMode||e.addBtn.addEventListener("click",c,{once:!0}))},u=function(){function t(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()}arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(e.taskName.removeEventListener("input",p),e.taskName.removeEventListener("click",p),document.removeEventListener("keydown",g),document.removeEventListener("click",Y),e.taskName.removeEventListener("keydown",t),e.expandArrow.removeEventListener("click",(function(t){return e.dateReqText.classList.toggle("show")}))):(e.taskName.addEventListener("input",p),e.taskName.addEventListener("click",p),document.addEventListener("keydown",g),document.addEventListener("click",Y),e.taskName.addEventListener("keydown",t),e.expandArrow.addEventListener("click",(function(t){return e.dateReqText.classList.toggle("show")})))};function p(t){var n;l(),t===e.taskName?(n=t.value,e.caretPos=t.selectionStart):(A(/label-picker|priority-picker|date-picker|project-picker/,"show"),n=t.target.value,e.caretPos=t.target.selectionStart);var r,a=e.addTaskContainer.querySelector(".top .inputs div:first-of-type"),o=a.querySelectorAll(".label-added"),i=n.slice(0,e.caretPos).match(/@[^ @]*$/),c=/@[^ @]+/g,s=[];for(o.forEach((function(e){return a.removeChild(e)}));null!=(r=c.exec(n));)s.find((function(e){return e.str.toLowerCase()===r[0].toLowerCase()}))?e.isLabelRepeated=!0:(e.isLabelRepeated=!1,s.push({str:r[0],start:r.index,end:r.index+r[0].length-1,redBox:y(n.slice(0,r.index),r[0])}));var u=s.map((function(e){return e.str})).filter((function(e,t,n){return n.indexOf(e)===t}));if(e.allUniqueMatchesInsideTaskName=u,e.labels=u,i){var d=E.isInExistingLabels(i[0],!1),p=E.isInExistingLabels(i[0],!0);e.currLabelBasedOnCaretPos=i[0],m(d,p,i[0],e.isLabelRepeated),v(),h(i[0])}else e.labelBox.classList.remove("show"),e.isLabelBoxVisible=!1}u();var f=function e(t,n){var r=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");return r.font=n,r.measureText(t).width},y=function(t,n){var r=e.addTaskContainer.querySelector(".top .inputs div:first-of-type"),a=document.createElement("div"),o=f(t,"bold 0.95rem Arial")+2,i=f(n,"bold 0.95rem Arial");return a.classList.add("label-added"),a.style.cssText="left: ".concat(o,"px; width: ").concat(i,"px"),r.appendChild(a),a},m=function(t,n,r,a){var o="";if(a)e.labelBox.innerHTML="<div><p>Label ".concat(n," is already included</p></div>");else if(0!=n.length)e.labelBox.innerHTML=o;else{"@"!=r&&(o+="<div><p>To create label <span>".concat(r,"</span> click here or press (space, @, enter)</p></div>")),t.forEach((function(e){var t;o+=(t=e,'<div><img src="'.concat(T,'" alt="label"><p>').concat(t,"</p></div>"))})),e.labelBox.innerHTML=o;var i=e.labelBox.querySelector("span");i&&(i.style.color="#f87171")}},v=function(){var t=G(e.labelBox.querySelectorAll("div")).slice(0);if(e.labelBox.classList.add("show"),e.isLabelBoxVisible=!0,e.labelBox.scrollTop=0,e.activeLabelBoxItem=0,0!=t.length){var n=t.find((function(e){return e.classList.contains("active")}));n&&n.classList.remove("active"),t[0].classList.add("active")}};function g(t){var n,r,a,o,i=e.labelBox.querySelectorAll("div");if(0!==i.length&&(("Enter"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key)&&e.isLabelBoxVisible))if("Enter"===t.key)j(i[e.activeLabelBoxItem],e.currLabelBasedOnCaretPos);else{i[e.activeLabelBoxItem].classList.remove("active"),"ArrowUp"===t.key?e.activeLabelBoxItem--:e.activeLabelBoxItem++,e.activeLabelBoxItem<0&&(e.activeLabelBoxItem=0),e.activeLabelBoxItem>i.length-1&&(e.activeLabelBoxItem=i.length-1),i[e.activeLabelBoxItem].classList.add("active"),n=i[0].offsetHeight,r=e.labelBox.scrollTop,a=r+e.labelBox.offsetHeight,((o=n*e.activeLabelBoxItem)<r||o+n>a)&&(e.labelBox.scrollTop=o)}}var h=function(t){e.labelBox.querySelectorAll("div").forEach((function(e){e.addEventListener("click",(function(n){j(e,t)}),{once:!0})}))},j=function(t,n){if(!e.isLabelRepeated){var r=n.split("@")[1];if(/span/g.test(t.innerHTML))E.names.push(r),e.taskName.value+=" ",e.labelBox.classList.remove("show"),e.isLabelBoxVisible=!1,p(e.taskName);else{var a=t.innerText.replace(r,"");e.taskName.value+=a+" ",e.labelBox.classList.remove("show"),e.isLabelBoxVisible=!1,p(e.taskName)}}},A=function(t,n){document.removeEventListener("click",Y),e.showHideBtn.forEach((function(e,r){X(e.el.classList).find((function(e){return t.test(e)}))&&(e.el.classList.remove(n),e.active=!1)})),setTimeout((function(){return document.addEventListener("click",Y)}),100)},M=function(e,t){switch(t){case 1:e.innerHTML='<img class="svg" src="'.concat(k,'" alt="more" \n                style="filter: invert(44%) sepia(74%) saturate(3398%) hue-rotate(334deg) brightness(96%) contrast(83%);">Priority 1');break;case 2:e.innerHTML='<img class="svg" src="'.concat(k,'" alt="more" \n                style="filter: invert(70%) sepia(49%) saturate(4175%) hue-rotate(1deg) brightness(105%) contrast(92%);">Priority 2');break;case 3:e.innerHTML='<img class="svg" src="'.concat(k,'" alt="more" \n                style="filter: invert(45%) sepia(41%) saturate(982%) hue-rotate(178deg) brightness(102%) contrast(94%);">Priority 3');break;case 4:e.innerHTML='<img class="svg" src="'.concat(S,'" alt="more">Priority')}},C=function(t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e.addTaskContainer.querySelector(".due-date").querySelector(".btn"),o=a.querySelector("img"),i=new Date,c=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+7);null===t?(a.innerText="Set due date",a.insertBefore(o,a.firstChild),a.style.color="#737373",o.style.filter="invert(48%) sepia(2%) saturate(8%) hue-rotate(334deg) brightness(92%) contrast(92%)"):t<new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0)?(a.innerText="".concat(n[t.getDay()]," ").concat(t.getDate()," ").concat(r[t.getMonth()]),a.insertBefore(o,a.firstChild),a.style.color="#ef4444",o.style.filter="invert(52%) sepia(82%) saturate(4219%) hue-rotate(335deg) brightness(97%) contrast(94%)"):t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()?(a.innerText="Today",a.insertBefore(o,a.firstChild),a.style.color="#059669",o.style.filter="invert(39%) sepia(96%) saturate(520%) hue-rotate(115deg) brightness(92%) contrast(96%)"):t.getDate()===c.getDate()&&t.getMonth()===c.getMonth()&&t.getFullYear()===c.getFullYear()?(a.innerText="Tomorrow",a.insertBefore(o,a.firstChild),a.style.color="#fbbf24",o.style.filter="invert(84%) sepia(47%) saturate(2119%) hue-rotate(339deg) brightness(104%) contrast(97%)"):t.getDate()<=s.getDate()&&t.getMonth()<=s.getMonth()&&t.getFullYear()===s.getFullYear()?(a.innerText="".concat(n[t.getDay()]," ").concat(t.getDate()," ").concat(r[t.getMonth()]),a.insertBefore(o,a.firstChild),a.style.color="#7e22ce",o.style.filter="invert(16%) sepia(67%) saturate(6573%) hue-rotate(272deg) brightness(84%) contrast(92%)"):(a.innerText="".concat(n[t.getDay()]," ").concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear()===i.getFullYear()?"":t.getFullYear()),a.insertBefore(o,a.firstChild),a.style.color="#737373",o.style.filter="invert(48%) sepia(2%) saturate(8%) hue-rotate(334deg) brightness(92%) contrast(92%)")},B=function(t,n,a){var o,i,c=n.classList.contains("priority-picker"),l=n.classList.contains("date-picker"),u=n.classList.contains("label-picker"),f=n.classList.contains("project-picker");if(c){var y=X(n.children);y.forEach((function(n){n.addEventListener("click",(function(r){e.priority=+n.dataset.priority,y.forEach((function(e){return e.classList.remove("checked")})),n.classList.add("checked"),M(t,e.priority),A(/priority-picker/,a)}),{once:!0})}))}else if(l)I();else if(u){var m=e.addTaskContainer.querySelector(".top .label .label-picker");o=function(e){return'\n                <div class="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",'">\n                    <img src="').concat(T,'" alt="label">\n                    <p>').concat(e,'</p>\n                    <div class="check-box">\n                        <img src="').concat(r,'" alt="check">\n                    </div>\n                </div>\n                ')},i="",E.names.forEach((function(t){e.allUniqueMatchesInsideTaskName.find((function(e){return e.slice(1)===t}))?i+=o(t,"checked"):i+=o(t)})),m.innerHTML=i,e.addTaskContainer.querySelectorAll(".top .label .label-picker > div").forEach((function(t){t.addEventListener("click",(function(n){if(t.classList.contains("checked")){var r=new RegExp("@".concat(t.innerText),"gi");e.taskName.value=e.taskName.value.replace(r,""),e.taskName.value=e.taskName.value.trim(),t.classList.remove("checked")}else t.classList.add("checked"),e.taskName.value=(a=e.taskName.value,o="@".concat(t.innerText," "),i=e.caretPos,[a.slice(0,i),o,a.slice(i)].join(""));var a,o,i;e.taskName.focus(),p(e.taskName)}))}))}else if(f){var v=e.addTaskContainer.querySelector(".bottom .select-project"),g=e.addTaskContainer.querySelector(".project-picker"),h=g.querySelector(".inbox"),b=g.querySelectorAll("ul figcaption"),k=g.querySelectorAll("ul li"),S=[h].concat(X(b),X(k)),x=G(g.querySelectorAll("img.projectChecked")).slice(0),w=g.querySelector("input");w.value="",S.forEach((function(e){return e.style.removeProperty("display")})),b.forEach((function(e){return e.querySelector(".bullet").style.cssText="background-color: ".concat(d.getAllProjects().find((function(t){return e.innerText===t.name})).colorValue,";")})),S.forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.innerText;d.getAllProjects().forEach((function(t){t.name===n?(v.innerHTML=t.getTemplateHTML()+'<img src="'.concat(s,'" alt="expand">'),e.projectName={element:t,subProjectIndex:null}):t.subProjects.forEach((function(r,a){r.name===n&&(v.innerHTML=t.getTemplateHTML(a)+'<img src="'.concat(s,'" alt="expand">'),e.projectName={element:t,subProjectIndex:a})}))}));var r=t.currentTarget.querySelector("img.projectChecked");x.forEach((function(e){return e.classList.contains("active")?e.classList.remove("active"):e})),r.classList.add("active"),A(/project-picker/,"show")}),{once:!0})})),w.addEventListener("input",(function(e){var t=new RegExp("".concat(e.target.value),"i");S.forEach((function(e){t.test(e.innerText)?e.style.display="flex":e.style.display="none"}))}))}},P=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),weekDay:e.getDay(),repeat:r,time:"".concat((e.getHours()<10?"0":"")+e.getHours(),":").concat((e.getMinutes()<10?"0":"")+e.getMinutes()),toText:function(){return"".concat(t[this.weekDay]," ").concat(this.day," ").concat(n[this.month]).concat(this.year===(new Date).getFullYear()?"":this.year).concat("00:00"===this.time?"":this.time)}}};function I(r){r&&(e=r());var a,o,i,c,s=e.addTaskContainer.querySelector(".date-picker .type-date input"),l=e.addTaskContainer.querySelector(".date-picker .input-validation-text"),u=e.addTaskContainer.querySelector(".date-picker .input-validation-text > div:nth-of-type(2) ul"),d=l.querySelector("div:first-of-type div p:nth-of-type(2)"),p=l.querySelector("div:first-of-type div p:first-of-type"),f=l.querySelector("div:first-of-type img"),y=new Date,m=e.addTaskContainer.querySelectorAll(".date-picker .pick-icon > div");function v(n){var a,o=e.addTaskContainer.querySelector(".date-picker .type-date .icon img");switch(n.currentTarget.querySelector("span").innerText){case"Today":a=new Date(y.getFullYear(),y.getMonth(),y.getDate()),r||(A(/date-picker/,"show"),C(a)),e.dueDate=P(a),s.value="Today";break;case"Tomorrow":a=new Date(y.getFullYear(),y.getMonth(),y.getDate()+1),r||(A(/date-picker/,"show"),C(a)),e.dueDate=P(a),s.value="Tomorrow";break;case"Next week":a=new Date(y.getFullYear(),y.getMonth(),y.getDate()+7),r||(A(/date-picker/,"show"),C(a)),e.dueDate=P(a),s.value=t[e.dueDate.weekDay];break;case"Next weekend":var i=6===y.getDay()||7===y.getDay?7:6-y.getDay();a=new Date(y.getFullYear(),y.getMonth(),y.getDate()+i),r||(A(/date-picker/,"show"),C(a)),e.dueDate=P(a),s.value=t[e.dueDate.weekDay];break;case"No date":e.dueDate=null,r||(A(/date-picker/,"show"),C(null)),s.value="",o.src="".concat(x),o.style.filter="invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)",f.src=D,p.innerText="No results",d.innerText=""}"No date"!=n.currentTarget.querySelector("span").innerText&&(o.src="".concat(w),o.style.filter="invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)",f.src=L,p.innerText=e.dueDate.toText(),d.innerText="".concat(b.howManyTasksInSpecifiedDay(a).length," tasks"))}m.forEach((function(e){var r=e.querySelector("p");switch(e.querySelector("span").innerText){case"Today":r.innerText="".concat(t[y.getDay()]);break;case"Tomorrow":r.innerText="".concat(t[new Date(y.getFullYear(),y.getMonth(),y.getDate()+1).getDay()]);break;case"Next week":var a=new Date(y.getFullYear(),y.getMonth(),y.getDate()+7);r.innerText="".concat(t[a.getDay()]," ").concat(a.getDate()," ").concat(n[a.getMonth()]);break;case"Next weekend":var o=6===y.getDay()||7===y.getDay?7:6-y.getDay(),i=new Date(y.getFullYear(),y.getMonth(),y.getDate()+o);r.innerText="".concat(t[i.getDay()]," ").concat(i.getDate()," ").concat(n[i.getMonth()])}})),u.classList.remove("show"),l.style.display="none",a=e.addTaskContainer.querySelector(".date-picker .type-date .icon img"),o=y.getDate(),i=y.getMonth(),c=y.getFullYear(),s.addEventListener("input",(function(l){var u=l.target.value;if(/^((([0-9]{4}[\/\- ])?((?:(?=(0?2|Feb)[\/\- ])((0?2|Feb)[\/\- ](0?[1-9]|[12]\d))|((?=(0?[13578]|10|12|(Jan|Mar|May|Jul|Aug|Oct|Dec)[\/\- ]))((0?[13578]|10|12|(Jan|Mar|May|Jul|Aug|Oct|Dec))[\/\- ](0?[1-9]|[12]\d|3[01]))|(((0?[469]|11|(Apr|Jul|Sep|Nov))[\/\- ])(0?[1-9]|[12]\d|30)))))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?)|((Mon|Tue|Wed|Thu|Fri|Sat|Sun|Today|Weekend|Tomorrow|Day after tomorrow|Next week|in \d?\d?\d days|in \d?\d weeks|(in (([1-9]\d? months)|(1 month)))|(every (Day|Mon|Tue|Wed|Thu|Fri|Sat|Sun|Second|Third|Fourth|Fifth|sixth)))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?))$/i.test(u)){a.src="".concat(w),a.style.filter="invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)",f.src=L;var m,v,g=u.split(/[\-\/ ]/),h=function(e){return/[a-z]+/i.test(e)?n.findIndex((function(t){return new RegExp("".concat(e),"i").test(t)}))+1:"0"===e.charAt(0)?e.charAt(1):e},k=function(e){return"0"===e.charAt(0)?e.charAt(1):e},S=function(e){return e?e.split(":"):""},T="";if(4!==g[0].length||/[a-z]/i.test(g[0])){var E,q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=["sun","mon","tue","wed","thu","fri","sat"].indexOf(e.slice(0,3).toLowerCase());if(!(r<0))return n.setHours(0,0,0,0),n.setDate(n.getDate()+ +!!t+(r+7-n.getDay()-+!!t)%7),n};if(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i.test(u))m=q(g[0]),g[1]&&(E=m).setHours.apply(E,X(S(g[1])));else if(/Today/i.test(u)){var j;(m=y).setHours(0,0,0,0),g[1]&&(j=m).setHours.apply(j,X(S(g[1])))}else if(/Weekend/i.test(u)){var A;m=q("sat"),g[1]&&(A=m).setHours.apply(A,X(S(g[1])))}else if(/^Tomorrow/i.test(u)){var M,N=y.getDay()+1>6?0:y.getDay()+1;m=q(t[N]),g[1]&&(M=m).setHours.apply(M,X(S(g[1])))}else if(/Day after tomorrow/i.test(u)){var B,I=(y.getDay()+2)%7;m=q(t[I]),g[3]&&(B=m).setHours.apply(B,X(S(g[3])))}else if(/Next week/i.test(u)){var F,H=y.getDay();m=q(t[H]),g[2]&&(F=m).setHours.apply(F,X(S(g[2])))}else if(/in/i.test(u)){var O;m=new Date(c,i,o+g[1]),g[3]&&(O=m).setHours.apply(O,X(S(g[3])))}else if(/every/i.test(u)){var Y;/day/i.test(g[1])?(m=y).setHours(0,0,0,0):m=/(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i.test(g[1])?q(g[1]):new Date(c,i,o+["second","third","fourth","fifth","sixth"].findIndex((function(e){return new RegExp("".concat(g[1]),"i").test(e)}))+2),g[2]&&(Y=m).setHours.apply(Y,X(S(g[2]))),T=g[1]}else m=_(Date,[c,h(g[0])-1,k(g[1])].concat(X(S(g[2]))))}else m=_(Date,[g[0],h(g[1])-1,k(g[2])].concat(X(S(g[3]))));m<y?W("Only future dates are accepted"):(v=0===T.length?P(m):P(m,T),p.innerText=v.toText(),d.innerText="".concat(b.howManyTasksInSpecifiedDay(m).length," tasks"),e.dueDate=v,r||s.addEventListener("focusout",(function(e){return C(m)}),{once:!0}))}else if(/^((?:(?=1 )(1 (0?[1-9]|[12]\d))|((?=[024679]|11)(([024679]|11) (0?[1-9]|[12]\d|3[01]))|(([358]|10|12) (0?[1-9]|[12]\d|30))))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?)$/.test("".concat(i," ").concat(u))){a.src="".concat(w),a.style.filter="invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)",f.src=L;var R=u.split(" "),J="0"===R[0].charAt(0)?R[0].charAt(1):R[0],U=R[1]?R[1].split(":"):"",V=_(Date,[c,i,J].concat(X(U)));V<y&&(+J!=+o||""!==U)&&V.setFullYear(c+1);var $=P(V);p.innerText=$.toText(),d.innerText="".concat(b.howManyTasksInSpecifiedDay(V).length," tasks"),e.dueDate=$,r||s.addEventListener("focusout",(function(e){return C(V)}),{once:!0})}else W("No results");function W(t){r||s.addEventListener("focusout",(function(e){return C(null)}),{once:!0}),e.dueDate=null,a.src="".concat(x),a.style.filter="invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)",f.src=D,p.innerText="".concat(t),d.innerText=""}})),function(){var n=new Date,a=n.getMonth(),o=n.getFullYear(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=e.addTaskContainer.querySelector(".date-picker .calendar .months");c.innerHTML="";var s=e.addTaskContainer.querySelector(".date-picker .calendar .curr-month"),l=e.addTaskContainer.querySelector(".date-picker .calendar"),u=e.addTaskContainer.querySelector(".date-picker .calendar .nav"),d=u.querySelector("ul"),p=d.querySelectorAll("li"),f=e.addTaskContainer.querySelector(".date-picker .calendar .nav .icons > div:first-of-type"),y=e.addTaskContainer.querySelector(".date-picker .calendar .nav .icons > div:nth-of-type(2)"),m=e.addTaskContainer.querySelector(".date-picker .calendar .nav .icons > div:last-of-type"),v=e.addTaskContainer.querySelector(".date-picker .type-date input");l.scrollTop=0,l.addEventListener("scroll",k),f.addEventListener("click",(function(){if(h.previousElementSibling){l.removeEventListener("scroll",k);var e=h.previousElementSibling.previousElementSibling;e.scrollIntoView({behavior:"smooth",block:"end"}),(h=e).previousElementSibling||(u.style.cssText="border: none;"),setTimeout((function(){return l.addEventListener("scroll",k)}),500)}})),y.addEventListener("click",(function(){u.style.cssText="border: none;",l.removeEventListener("scroll",k),(h=g).scrollIntoView({behavior:"smooth",block:"end"}),setTimeout((function(){return l.addEventListener("scroll",k)}),500)})),m.addEventListener("click",(function(){u.style.cssText="border-bottom: 1px solid gray;",l.removeEventListener("scroll",k),h.nextElementSibling.nextElementSibling.nextElementSibling||(T(),T());var e=h.nextElementSibling.nextElementSibling;e.scrollIntoView({behavior:"smooth",block:"nearest"}),h=e,setTimeout((function(){return l.addEventListener("scroll",k)}),500)})),s.innerHTML=i[a]+" "+o,x(a,o),T();var g=e.addTaskContainer.querySelector(".date-picker .calendar .months ul"),h=g;function k(e){0===l.scrollTop?u.style.cssText="border: none;":u.style.cssText="border-bottom: 1px solid gray;",h.nextElementSibling&&S(h.nextElementSibling.nextElementSibling)?(T(),h=h.nextElementSibling.nextElementSibling):h.previousElementSibling&&S(h.previousElementSibling.previousElementSibling)&&(h=h.previousElementSibling.previousElementSibling)}function S(e){var t=l.scrollTop,n=t+l.offsetHeight,r=e.offsetTop;return r+e.offsetHeight<=n&&r>=t}function T(){o=11===a?o+1:o,a=(a+1)%12;var e=document.createElement("div");e.innerText=i[a],c.appendChild(e),x(a,o)}function x(a,o){for(var s=new Date(o,a).getDay(),l=32-new Date(o,a,32).getDate(),u=document.createElement("ul"),f=1,y=0;y<6;y++)for(var m=function(){if(0===y&&g<s-1){var c=document.createElement("li");c.innerText="",c.classList.add("past"),u.appendChild(c)}else{if(f>l)return"break";var m=document.createElement("li");m.innerText=f,f===n.getDate()&&o===n.getFullYear()&&a===n.getMonth()?m.classList.add("today"):new Date(o,a,f)<n?m.classList.add("past"):6!==g&&5!==g||m.classList.add("weekend"),m.classList.contains("past")||(m.addEventListener("mouseover",(function(e){d.innerHTML="";var r=document.createElement("p"),c=new Date(o,a,m.innerText);r.innerText="".concat(t[c.getDay()]," ").concat(c.getDate()," ").concat(i[c.getMonth()]," ").concat(o===n.getFullYear()?"":o),r.innerText+=" - ".concat(b.howManyTasksInSpecifiedDay(c).length," tasks due"),r.style.cssText="grid-area: 1 / 1 / 2 / -1; align-self: center; justify-self: center; font-size: .85rem; color: #737373",d.appendChild(r)})),m.addEventListener("mouseout",(function(e){d.innerHTML="",p.forEach((function(e){return d.appendChild(e)}))})),m.addEventListener("click",(function(t){var n=new Date(o,a,t.currentTarget.innerText);r||e.dateUtilFunctions.styleDueDateBtnFun(n),e.dueDate=e.dateUtilFunctions.formatDateFun(n),r||A(/date-picker/,"show"),v.value=e.dueDate.toText()}))),u.appendChild(m),f++}},g=0;g<7;g++){if("break"===m())break}c.appendChild(u)}}(),s.addEventListener("focus",(function(e){return l.style.display="block"})),m.forEach((function(e){return e.addEventListener("click",v)})),e.dateUtilFunctions={formatDateFun:function(e){return P(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},styleDueDateBtnFun:function(e){return C(e)}}}var F=function(){e.priority=null,e.dueDate=null,e.projectName=null,e.labels=null,e.taskName.value="",e.description.value="",e.allUniqueMatchesInsideTaskName=[],e.transparentFilterBg.style.display="none";var t=e.addTaskContainer.querySelector(".top .due-date"),n=e.addTaskContainer.querySelector(".due-date .date-picker .type-date input"),r=t.querySelector(".btn"),o=r.querySelector("img"),i=e.addTaskContainer.querySelector(".date-picker .input-validation-text"),l=i.querySelector("div:first-of-type div p:nth-of-type(2)"),u=i.querySelector("div:first-of-type div p:first-of-type"),d=i.querySelector("div:first-of-type img"),p=e.addTaskContainer.querySelector(".date-picker .type-date .icon img");n.value="",r.innerText="Today",r.insertBefore(o,r.firstChild),r.style.color="#059669",o.style.filter="invert(39%) sepia(96%) saturate(520%) hue-rotate(115deg) brightness(92%) contrast(96%)",p.src="".concat(x),p.style.filter="invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)",d.src=D,u.innerText="No results",l.innerText="";var f=e.addTaskContainer.querySelector(".bottom .select-project"),y=e.addTaskContainer.querySelectorAll(".bottom .project-picker img.projectChecked"),m=e.addTaskContainer.querySelector(".bottom .project-picker .inbox img.projectChecked");f.innerHTML='<img src="'.concat(a,'" alt="select-project"><p>Inbox</p><img src="').concat(s,'" alt="expand">'),y.forEach((function(e){return e.classList.contains("active")?e.classList.remove("active"):e})),m.classList.add("active");var v=e.addTaskContainer.querySelector(".top .priority .btn");e.addTaskContainer.querySelectorAll(".top .priority .priority-picker > div").forEach((function(e){return e.classList.contains("prio4")?e.classList.add("checked"):e.classList.remove("checked")})),v.innerHTML='<img class="svg" src="'.concat(S,'" alt="more">Priority'),e.addTaskContainer.querySelectorAll(".top .label .label-picker > div").forEach((function(e){return e.classList.contains("checked")?e.classList.remove("checked"):e}));var g=e.addTaskContainer.querySelector(".top .inputs div:first-of-type");g.querySelectorAll(".label-added").forEach((function(e){return g.removeChild(e)})),e.addBtn.style.cssText="opacity: 0.6; cursor:not-allowed;",e.addBtn.removeEventListener("click",c)},H=function(e){var t=document.querySelector(".alert-box"),n=document.querySelector(".alert-box .buttons button:first-of-type"),r=document.querySelector(".alert-box .icons .close"),a=document.querySelector(".alert-box .buttons button:last-of-type"),o=document.querySelector(".filter-background");t.style.display="flex",o.style.display="block",document.removeEventListener("click",Y),document.addEventListener("click",(function i(c){if(c.target!=t&&!t.contains(c.target)||c.target===n||c.target===r||r.contains(c.target))return t.style.display="none",o.style.display="none",document.removeEventListener("click",i),void document.addEventListener("click",Y);c.target===a&&(t.style.display="none",o.style.display="none",e(),document.removeEventListener("click",i),document.addEventListener("click",Y))}))},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=G(document.querySelectorAll(".main-container > .container")).slice(0).find((function(e){return"block"===window.getComputedStyle(e,null).display}));if(n.classList.contains("today")){var r=new Date;e.dueDate=P(r),C(r)}else if(!n.classList.contains("upcoming")&&!n.classList.contains("filters")){var a=d.getAllProjects().find((function(e){return n.classList.contains(e.name.toLowerCase())})),o=e.addTaskContainer.querySelector(".bottom .select-project");if(t&&t.classList.length>0){var i=a.subProjects.findIndex((function(e){return t.classList.contains(e.name.toLowerCase())}));o.innerHTML=a.getTemplateHTML(i)+'<img src="'.concat(s,'" alt="expand">'),e.projectName={element:a,subProjectIndex:i}}else o.innerHTML=a.getTemplateHTML()+'<img src="'.concat(s,'" alt="expand">'),e.projectName={element:a,subProjectIndex:null};C(null)}};function Y(t){var n=e.showHideBtn.findIndex((function(e){return t.target===e.btn||e.btn.contains(t.target)})),r=e.showHideBtn.find((function(n){return t.target===n.el||n.el.contains(t.target)&&t.target!=e.cancelBtn}));if(-1!=n){e.addTaskContainer===document.querySelector("#content > .add-task-container")&&(e.transparentFilterBg.style.display="block");var a=n;e.showHideBtn.filter((function(t){return t.layer===e.showHideBtn[a].layer&&t!=e.showHideBtn[a]})).forEach((function(e){e.active=!1,e.el.classList.remove(e.className)})),e.showHideBtn[a].el.classList.contains("add-task-container")&&O(),e.showHideBtn[a].active=!0,B(e.showHideBtn[a].btn,e.showHideBtn[a].el,e.showHideBtn[a].className),e.showHideBtn[a].el.classList.toggle(e.showHideBtn[a].className)}else{var o=e.showHideBtn.filter((function(e){return e.active}));if(o.length>0){var i=o.sort((function(e,t){return t.layer-e.layer}));r==i[0]||e.labelBox.classList.contains("show")&&1===i[0].layer||(i[0].el===e.addTaskContainer&&""!=e.taskName.value||i[0].el===e.addTaskContainer&&""!=e.taskName.value&&t.target===e.cancelBtn?H((function(){F(),i[0].active=!1,i[0].el.classList.remove(i[0].className)})):((i[0].el===e.addTaskContainer||i[0].el===e.addTaskContainer&&t.target===e.cancelBtn)&&F(),i[0].active=!1,i[0].el.classList.remove(i[0].className)))}}t.target==e.taskName||t.target==e.labelBox||e.labelBox.contains(t.target)||e.labelBox.classList.remove("show")}var J=function(t){e.showHideBtn.push({el:e.addTaskContainer.querySelector(".date-picker"),btn:e.addTaskContainer.querySelector(".flex-container > div:first-child .btn"),className:"show",layer:2,active:!1}),e.showHideBtn.push({el:e.addTaskContainer.querySelector(".flex-container > .priority .priority-picker"),btn:e.addTaskContainer.querySelector(".flex-container > .priority .btn"),className:"show",layer:2,active:!1}),e.showHideBtn.push({el:e.addTaskContainer.querySelector(".label-picker"),btn:e.addTaskContainer.querySelector(".flex-container > .label .btn"),className:"show",layer:2,active:!1}),e.showHideBtn.push({el:e.addTaskContainer.querySelector(".bottom .project-picker"),btn:e.addTaskContainer.querySelector(".bottom .select-project"),className:"show",layer:2,active:!1}),t&&e.showHideBtn.push({el:e.addTaskContainer,btn:document.querySelector(".top-panel .add-task"),className:"toggleAddTask",layer:1,active:!1}),e.showHideBtn.push({el:e.addTaskContainer.querySelector(".date-picker .add-time .time-picker"),btn:e.addTaskContainer.querySelector(".date-picker .add-time p"),className:"show",layer:3,active:!1})};return J(!0),{getAllButtons:J,createData:o,events:u,setData:i,setAllUniqueMatchesInsideTaskName:function(t){return e.allUniqueMatchesInsideTaskName=t},contentPriorityBtn:M,styleDueDateBtn:C,setEditMode:function(t){return e.editMode=t},getTaskData:function(){return{priority:e.priority,taskName:e.taskName.value,description:e.description.value,dueDate:e.dueDate,projectName:e.projectName,labels:e.labels}},setTaskData:function(t){var n=t.priority,r=t.dueDate,a=t.projectName,o=t.labels;e.priority=n,e.dueDate=r,e.projectName=a,e.labels=o},datePicker:I,getDueDate:function(){return e.dueDate},updateButtonsContentBasedOnTab:O}}();const te=ee;function ne(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelectorAll(".sidebar li"),n=ne(document.querySelectorAll(".main-container > .container")).slice(0);function r(e){var t=e.currentTarget.querySelector("p").innerText;"Filters & Labels"===t&&(t="filters");var r=n.find((function(e){return e.classList.contains("".concat(t.toLowerCase()))}));n.forEach((function(e){return e.style.display="none"})),r.style.display="block"}e?t.forEach((function(e){return e.removeEventListener("click",r)})):t.forEach((function(e){return e.addEventListener("click",r)}))},oe=function(){var e=document.querySelector(".sidebar ul:last-of-type > figcaption > img:last-of-type"),t=document.querySelectorAll(".sidebar ul:last-of-type > li"),n=!0;e.addEventListener("click",(function(r){n?(n=!1,e.style.cssText="transform: rotate(90deg); transition: 200ms;",t.forEach((function(e){return e.style.cssText="transform: scaleX(0); transition: 200ms; transform-origin: -100% 50%;"}))):(n=!0,e.style.cssText="transform: rotate(0deg); transition: 200ms;",t.forEach((function(e){return e.style.cssText="transform: scaleX(1); transition: 200ms; transform-origin: -100% 50%;"})))}))};const ie=e.p+"assets/images/options-outline.87141abe912700f114f1..svg";!function(){var e=document.querySelector(".add-project"),t=document.querySelector(".sidebar ul:last-of-type > figcaption > img:first-of-type"),n=document.querySelector(".add-project > .buttons > button:first-of-type"),r=document.querySelector(".add-project > .buttons > button:last-of-type"),a=document.querySelector(".add-project > .inputs > input"),o=document.querySelector(".add-project > .inputs > .color-btn"),c=document.querySelector(".add-project > .inputs > .color-picker"),s=document.querySelector(".add-project > .inputs > .noValid"),l=!1,u=function(e){return'\n    <div class="container '.concat(e,' project">\n        <div class="title">\n            <h3>').concat((t=e,t.charAt(0).toUpperCase()+t.slice(1)),'</h3>\n            <div class="view">\n                <img class="svg grayFilter" src="').concat(ie,'" alt="options">\n                <p>View</p>\n            </div>\n            <div class="more">\n                <img class="svg grayFilter" src="').concat(i,'" alt="more">\n            </div>\n        </div>\n        <ul></ul>\n        <div class="add-task">\n            <div>+</div>\n            <p>Add task</p>\n        </div>\n        <div class="add-section">\n            <div></div>\n            <p>Add section</p>\n            <div></div>\n        </div>\n    </div>');var t};function p(){d.createProject(a.value,o.innerText.toLowerCase());var e=(new DOMParser).parseFromString(u(a.value.trim()),"text/html").querySelector("div");ae(!0),document.removeEventListener("click",m),v(!1),d.updateProjectPicker(),d.updateProjectsSidebar(),(t=document.querySelector(".sidebar ul:last-of-type > figcaption > img:first-of-type")).addEventListener("click",f),oe(),e.querySelector("div.add-task").addEventListener("click",R.showAddTaskBox),document.querySelector(".main-container").appendChild(e),ae()}function f(e){e.stopImmediatePropagation(),v(!0),document.addEventListener("click",m)}a.addEventListener("input",(function(e){var t=new RegExp("^".concat(e.target.value,"$"),"i"),n=d.getAllProjects().find((function(e){return t.test(e.name)}));n?(s.style.display="block",a.style.outline="1px solid red"):(s.style.display="none",a.style.outline="1px solid green"),""===e.target.value||n?(r.style.opacity=".5",r.style.cursor="not-allowed",r.removeEventListener("click",p)):(r.style.opacity="1",r.style.cursor="pointer",r.addEventListener("click",p))})),t.addEventListener("click",f),o.addEventListener("click",(function(e){l?(l=!1,c.style.display="none"):(y(),l=!0,c.style.display="block")}));var y=function(){var e=d.getAllProjects()[1],t=e.color,n=e.availableColors;c.innerHTML="",n.forEach((function(t){e.color=t;var n,r,a=(new DOMParser).parseFromString((n=e.colorValue,r=t,'<div><div style="background-color: '.concat(n,';"></div>').concat(r,"</div>")),"text/html").querySelector("div");a.addEventListener("click",function(e){l=!1,c.style.display="none",o.innerHTML='<div style="background-color: '.concat(this.value,';"></div>').concat(this.color)}.bind({value:e.colorValue,color:t})),c.appendChild(a)})),e.color=t};function m(t){(t.target!=e&&!e.contains(t.target)||t.target===n)&&(v(!1),document.removeEventListener("click",m))}function v(e){var t=document.querySelector(".add-project"),n=document.querySelector(".filter-background");e?(t.style.display="block",n.style.display="block"):(t.style.display="none",n.style.display="none",a.value="",l=!1,c.style.display="none",o.innerHTML='<div style="background-color: #737373;"></div>Neutral',r.style.opacity=".5",r.style.cursor="not-allowed",r.removeEventListener("click",p),a.style.outline="1px solid #cacaca")}}();function ce(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){var e=ce(document.querySelectorAll(".main-container > .project")).slice(0),t=document.querySelectorAll(".main-container > .project > .add-section"),n='\n    <div class="add-section-box">\n        <input type="text" placeholder="Name this section">\n        <p class="noValid">Section already exists!</p>\n        <div class="buttons">\n            <button type="button">Add section</button>\n            <button type="button">Cancel</button>\n        </div>\n    </div>\n    ',r=function(e){return'\n    <ul class="'.concat(e.toLowerCase(),'">\n        <figcaption>\n            <h4>').concat(e,'</h4>\n        </figcaption>\n    </ul>\n    <div class="add-task">\n        <div>+</div>\n        <p>Add task</p>\n    </div>\n    <div class="add-section">\n        <div></div>\n        <p>Add section</p>\n        <div></div>\n    </div>')};function a(t){var o=(new DOMParser).parseFromString(n,"text/html").querySelector("div"),i=t.currentTarget;i.style.display="none",i.after(o);var c=e.find((function(e){return e.contains(o)})),s=d.getAllProjects().find((function(e){return c.classList.contains(e.name.toLowerCase())})),l=o.querySelector("input"),u=o.querySelector(".buttons > button:first-of-type"),p=o.querySelector(".buttons > button:last-of-type"),f=o.querySelector(".noValid");function y(e){o.remove(),i.style.display="flex"}function m(e){s.createSubProject(l.value),console.log(s);var t=(new DOMParser).parseFromString(r(l.value),"text/html").querySelectorAll("body > *");i.after(t[0]),t[0].after(t[1]),t[1].after(t[2]),y(),t[1].addEventListener("click",R.showAddTaskBox),t[2].addEventListener("click",a),d.updateProjectPicker()}u.addEventListener("click",m),p.addEventListener("click",y),l.addEventListener("input",(function(e){var t=new RegExp("^".concat(e.target.value,"$"),"i"),n=s.subProjects.find((function(e){return t.test(e.name)}));n?(f.style.display="block",l.style.outline="1px solid red"):(f.style.display="none",l.style.outline="1px solid green"),""===e.target.value||n?(u.style.opacity=".5",u.style.cursor="not-allowed",u.removeEventListener("click",m)):(u.style.opacity="1",u.style.cursor="pointer",u.addEventListener("click",m))}))}t.forEach((function(e){return e.addEventListener("click",a)}))}();function le(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function de(e){le(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===ue(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var pe={};function fe(){return pe}function ye(e,t){var n,r,a,o,i,c,s,l;le(1,arguments);var u=fe(),d=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(c=i.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=de(e),f=p.getDay(),y=(f<d?7:0)+f-d;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function me(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ge,he,be,ke,Se;ge=document.querySelector(".upcoming"),he=document.querySelector(".main-container"),be=function(e,t){return"\n    <ul>\n        <figcaption>\n            <h4>".concat(e,"</h4>\n        </figcaption>\n        ").concat(t,'\n    </ul>\n    <div class="add-task">\n        <div>+</div>\n        <p>Add task</p>\n    </div> ')},ke=b.getAllTasks().filter((function(e){return e.dueDate})),Se=function(e,t,n){var r="";return ke.forEach((function(a){n===a.dueDate.day&&t===a.dueDate.month&&e===a.dueDate.year&&(r+=q(a))})),r},function(){var e=new Date,t=e.getMonth(),n=e.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=function(t,n,o){var i=new Date(t,n,o);return"".concat(a[i.getDay()]," - ").concat(i.getDate()," ").concat(r[i.getMonth()]).concat(t!=e.getFullYear()?" - "+e.getFullYear():"")};v(t,n),m(),m(),m(),m(),m(),m(),m(),y(e),he.addEventListener("scroll",(function(t){var n=he.scrollTop;if(f(d,n)&&(m(),d=document.querySelector(".upcoming > ul:nth-last-of-type(15)")),!f(p,n)){if((p=p.nextElementSibling).classList.contains("add-task"))return;u.classList.remove("active"),(u=u.nextElementSibling)||(i.forEach((function(e){e.classList.remove("past"),e.classList.remove("today")})),l++,y(new Date(e.getFullYear(),e.getMonth(),e.getDate()+7*l)),u=s),u.classList.add("active")}}));var i=me(ge.querySelectorAll(".nav > .week > div")).slice(0),c=ge.querySelector(".nav > .week > .today");c.classList.add("active");var s=ge.querySelector(".nav > .week > div:first-of-type"),l=(ge.querySelector(".nav > .week > div:last-of-type"),me(document.querySelectorAll(".upcoming > ul:not(.overdue)")).slice(0),0),u=c,d=document.querySelector(".upcoming > ul:nth-last-of-type(15)"),p=document.querySelector(".upcoming > ul:nth-of-type(2)");function f(e,t){var n=t+127.8,r=n+he.offsetHeight,a=e.offsetTop;return a+e.offsetHeight<=r&&a>=n}function y(t){var n=e;n.setHours(0,0,0,0);var r=document.querySelectorAll(".upcoming > .nav > .week > div"),a=ye(t,{weekStartsOn:1});r.forEach((function(e,r){var o=e.querySelector(".dayNum"),i=new Date(t.getFullYear(),t.getMonth(),a.getDate()+r);o.textContent=i.getDate(),i<n?e.classList.add("past"):function(e,t){le(2,arguments);var n=de(e),r=de(t);return n.getTime()===r.getTime()}(i,n)&&e.classList.add("today")}))}function m(){n=11===t?n+1:n,v(t=(t+1)%12,n)}function v(t,n){new Date(n,t).getDay();for(var r=32-new Date(n,t,32).getDate(),a=1,i=0;i<6;i++)for(var c=0;c<7&&!(a>r);c++){if(a===e.getDate()&&n===e.getFullYear()&&t===e.getMonth()){var s=be(o(n,t,a)+" - Today",Se(n,t,a)),l=document.createRange().createContextualFragment(s);ge.appendChild(l)}else if(!(new Date(n,t,a)<e)){var u=be(o(n,t,a),Se(n,t,a)),d=document.createRange().createContextualFragment(u);ge.appendChild(d)}a++}}}();var Te,xe,we,Le,De,Ee,qe,je,Ae,Me,Ne;Te=document.querySelector(".top-panel.left ul li:first-child"),xe=document.querySelector(".sidebar"),we=document.querySelector(".main-container"),document.querySelector("#content > .add-task-container"),Te.addEventListener("click",(function(e){xe.classList.contains("hide")?we.style.cssText="transform: translate(0); transition: transform 500ms;":we.style.cssText="transform: translate(-".concat(xe.offsetWidth/2,"px); transition: transform 500ms"),xe.classList.toggle("hide")})),Ee=document.querySelector(".sidebar .handler"),qe=document.getElementById("content"),je=document.querySelector("body"),Ae=!1,document.addEventListener("mousedown",(function(e){e.target===Ee&&(Ae=!0,Le=e.clientX,De=Le,je.style.cursor="col-resize")})),document.addEventListener("mousemove",(function(e){if(Ae){e.preventDefault();var t=e.clientX-Le;De+t<420&&De+t>230&&(qe.style.cssText="grid-template-columns: ".concat(De+t,"px 1fr;"))}})),document.addEventListener("mouseup",(function(e){Ae=!1,je.style.cursor="auto"})),Me=document.getElementById("search"),Ne=document.querySelector(".top-panel ul li.search label"),Me.addEventListener("focus",(function(e){Ne.style.setProperty("--searchBar-icon-color","invert(0%) sepia(0%) saturate(7483%) hue-rotate(312deg) brightness(100%) contrast(107%)"),Me.style.setProperty("--searchBar-placeholder-color","#000"),Me.style.backgroundColor="#fff"})),Me.addEventListener("focusout",(function(e){Ne.style.setProperty("--searchBar-icon-color","invert(100%) sepia(0%) saturate(7500%) hue-rotate(198deg) brightness(123%) contrast(101%)"),Me.style.setProperty("--searchBar-placeholder-color","#fff"),Me.style.removeProperty("background-color")})),ae(),oe()})();
//# sourceMappingURL=app.be50eb896ff1313f6ce2.bundle.js.map