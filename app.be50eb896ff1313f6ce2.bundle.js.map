{"version":3,"file":"app.be50eb896ff1313f6ce2.bundle.js","mappings":"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","sources":["webpack://todo-list/webpack/bootstrap","webpack://todo-list/webpack/runtime/global","webpack://todo-list/webpack/runtime/publicPath","webpack://todo-list/./src/app/projects.js","webpack://todo-list/./src/app/tasks.js","webpack://todo-list/./src/app/labels.js","webpack://todo-list/./src/app/createTaskHTMLContent.js","webpack://todo-list/./src/app/taskIconsEventsManager.js","webpack://todo-list/./src/app/todayTab.js","webpack://todo-list/./src/app/editTaskBox.js","webpack://todo-list/./src/app/editDate.js","webpack://todo-list/./src/app/addTaskBoxInline.js","webpack://todo-list/./src/app/projectsTabs.js","webpack://todo-list/./src/app/taskFinished.js","webpack://todo-list/./src/app/addTaskBox.js","webpack://todo-list/./src/app/tabSwitch.js","webpack://todo-list/./src/app/toggleSidebarProjects.js","webpack://todo-list/./src/app/addProjects.js","webpack://todo-list/./src/app/addSections.js","webpack://todo-list/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://todo-list/./node_modules/date-fns/esm/toDate/index.js","webpack://todo-list/./node_modules/date-fns/esm/_lib/defaultOptions/index.js","webpack://todo-list/./node_modules/date-fns/esm/startOfWeek/index.js","webpack://todo-list/./node_modules/date-fns/esm/_lib/toInteger/index.js","webpack://todo-list/./src/app/upcomingTab.js","webpack://todo-list/./node_modules/date-fns/esm/isEqual/index.js","webpack://todo-list/./src/app/toggleSidebar.js","webpack://todo-list/./src/app/sidebarResize.js","webpack://todo-list/./src/app/searchBarFocus.js","webpack://todo-list/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import checkBold from '../assets/icons/check-bold.svg';\nimport inboxIcon from '../assets/icons/inbox.svg';\nimport pentagon from '../assets/icons/pentagon.svg';\nimport inbox from '../assets/icons/inbox.svg';\nimport more from '../assets/icons/more-dots.svg';\nimport addIcon from '../assets/icons/add.svg';\nimport moreIcon from '../assets/icons/more.svg';\n\nconst projects = (function(){\n    const allProjects = [];\n    const projectPicker = document.querySelector('.add-task-container .project-picker');\n    const sidebarProjects = document.querySelector('.sidebar > ul:last-of-type');\n\n    class Project{\n        constructor(name, color){\n            this.name = name;\n            this.color = color;\n            this.subProjects = [];\n            this.availableColors = ['yellow', 'orange', 'red', 'lime', 'teal', 'cyan', 'purple', 'neutral'];\n        }\n\n        createSubProject(name){\n            this.subProjects.push({\n                name: name,\n            });\n        }\n        \n        getTemplateHTML(subProjectIndex=null){      \n            return this.name === 'Inbox' ? `<img src=\"${inbox}\" alt=\"select-project\"><p>${this.name}</p>`:\n            `<div style=\"display:flex;align-items:center; gap: 6px\">\n            <div class=\"bullet\" style=\"background-color: ${this.colorValue}\"></div><p>${this.name}${subProjectIndex === null ? '':'/' + this.subProjects[subProjectIndex].name}</p>\n            </div>`;\n        }\n\n        get colorValue(){\n            switch(this.color){\n                case 'yellow':\n                    return '#facc15';\n                case 'orange':\n                    return '#f97316';\n                case 'red':\n                    return '#ef4444';\n                case 'lime':\n                    return '#a3e635';\n                case 'teal':\n                    return '#14b8a6';\n                case 'cyan':\n                    return '#22d3ee';\n                case 'purple':\n                    return '#a855f7';\n                case 'neutral':\n                    return '#737373';\n            }\n        }\n    };\n\n    const updateProjectsSidebar = function(){\n        let content = `\n        <figcaption>\n            <p>Projects</p>\n            <img class=\"svg\" src=\"${addIcon}\" alt=\"add\">\n            <img class=\"svg\" src=\"${moreIcon}\" alt=\"more\">\n        </figcaption>`;\n        const projectTemplate = (color, name) =>\n        `<li>\n            <div class=\"bullet\" style=\"background-color: ${color}\"></div>\n            <p>${name}</p>\n            <p class=\"counter\"></p>\n            <img class=\"svg\" src=\"${more}\" alt=\"more\">\n        </li>`;\n        allProjects.forEach(el => {\n            if(el.name === 'Inbox') return;\n            content += projectTemplate(el.colorValue, el.name);\n        });\n        sidebarProjects.innerHTML = content;\n    };\n\n    const updateProjectPicker = function(){\n        let content = '<input type=\"text\" placeholder=\"Type a project\">';\n        const inboxTemplate = `\n        <div class=\"inbox\">\n            <img src=\"${inboxIcon}\" alt=\"inbox\">\n            <p>Inbox</p>\n            <img class=\"projectChecked active\" src=\"${checkBold}\" alt=\"checked\">\n        </div>`;\n        content += inboxTemplate;\n        const projectTemplate = (name,subProjects) => `\n        <ul>\n            <figcaption>\n                <div class=\"bullet\"></div>\n                <p style=\"padding-left: 11px;\">${name}</p>\n                <img class=\"projectChecked\" src=\"${checkBold}\" alt=\"checked\">\n            </figcaption>\n            ${subProjects}\n        </ul>`;\n        const subProjectTemplate = (name) => `\n            <li>\n                <img src=\"${pentagon}\" alt=\"el\">\n                <p>${name}</p>\n                <img class=\"projectChecked\" src=\"${checkBold}\" alt=\"checked\">\n            </li>`;        \n\n        allProjects.forEach(el => {\n            if(el.name === 'Inbox') return;\n            let subProjectsContent = '';\n            el.subProjects.forEach(el2 => subProjectsContent += subProjectTemplate(el2.name));\n            content += projectTemplate(el.name, subProjectsContent);\n        });\n        projectPicker.innerHTML = content;  \n    };\n\n    const createProject = (name, color) => {\n            const project = new Project(name.trim(), color);\n            allProjects.push(project);\n            return project;\n    };\n\n    const _init = (function(){\n        allProjects.push(new Project('Inbox', ''));\n        allProjects.push(new Project('Home', 'neutral'));\n        allProjects[1].createSubProject('Routines');\n        allProjects[1].createSubProject('Inspiration');\n        updateProjectPicker();\n        updateProjectsSidebar();\n    })();\n\n    const getAllProjects = () => allProjects;\n\n    return {\n        getAllProjects,\n        createProject,\n        updateProjectPicker,\n        updateProjectsSidebar\n    };\n})();\n\n\nexport default projects\n","import edit from '../assets/icons/edit.svg';\nimport comment from '../assets/icons/comment.svg';\nimport check from '../assets/icons/check-bold.svg';\nimport projects from './projects';\nimport labelIcon from '../assets/icons/pricetag-outline.svg';\nimport calendarIcon from '../assets/icons/calendar-edit-svgrepo-com.svg';\n\nconst tasks = (function(){\n    const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];\n    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    let allTasks = [];\n    const taskTemplate = (id, priority, taskName, description, date, projectName, labelArr, isOverdue = false) => `\n    <li data-id=${id}>\n        <div class=\"top\">\n            <div class=\"priority-box\">\n                <div class=\"${priority}\"><img class=\"svg\" src=\"${check}\" alt=\"checkmark\"></div>\n            </div>\n            <div class=\"text\">\n                <div class=\"task-name\">\n                    <p>${taskName}</p>\n                </div>\n                <div class=\"description\">\n                    <p>${description}</p>\n                </div>\n            </div>\n            <div class=\"icons\">\n                <div><img class=\"svg grayFilter\" src=\"${calendarIcon}\" alt=\"options\"></div>\n                <div><img class=\"svg grayFilter\" src=\"${edit}\" alt=\"options\"></div>\n                <div><img class=\"svg grayFilter\" src=\"${comment}\" alt=\"options\"></div>\n            </div>\n        </div>\n        <div class=\"bottom\">\n            <div class=\"date${isOverdue ? ' overdue':''}\">\n                <img src=\"${calendarIcon}\" alt=\"date\">\n                <p>${date}</p>\n            </div>\n            ${createLabelTemplate(labelArr)}\n            <div class=\"project-name\">\n                ${projectName}\n            </div>\n        </div>\n    </li>\n    `;\n\n    const createLabelTemplate = labelsArr => {\n        let content = '';\n        let template = labelName => `<div class=\"label\"><img src=\"${labelIcon}\" alt=\"label\"> <p>${labelName}</p></div>`;\n        labelsArr.forEach(label => content+=template(label.split('@')[1]));\n        return content;\n    };\n    \n    function Task(priority, taskName, description, dueDate, projectName, labels){\n        this.id = allTasks.length+1,\n        this.creationDate = new Date(),\n        this.priority = priority,\n        this.taskName = taskName,\n        this.description = description,\n        this.dueDate = dueDate,\n        this.projectName = projectName,\n        this.labels = labels\n    }\n\n    Task.prototype.getDateObj = function() {\n        if(this.dueDate){\n            let time = this.dueDate.time === ['00','00'] ? '': this.dueDate.time.split(':')\n            return new Date(this.dueDate.year, this.dueDate.month, this.dueDate.day, ...time);\n        }\n    };\n\n    Task.prototype.pushToTasks = function(){\n        allTasks.push(this);\n    };\n\n    const createTask = (\n        {\n            priority = 4, \n            taskName, \n            description = '', \n            dueDate = null, \n            projectName = {element: projects.getAllProjects()[0], sideProjectIndex: null}, \n            labels = null\n        }\n    ) => {\n        const newTask = new Task(priority, taskName, description, dueDate, projectName, labels);\n        newTask.pushToTasks();\n        return newTask;\n    }; \n    \n    const howManyTasksInSpecifiedDay = function(date){\n        return allTasks.filter(task => task.dueDate && task.dueDate.year === date.getFullYear() && task.dueDate.month === date.getMonth() && task.dueDate.day === date.getDate());\n    };\n\n    const howManyTasksInProject = function(projectName){\n        return allTasks.filter(task => task.projectName.element.name === projectName);\n    };\n\n    const removeTask = id => allTasks.splice(allTasks.findIndex(task => task.id === id),1);\n\n    const getPriorityClassName = function(priority) {\n        switch(priority){\n            case 1:\n                return 'prioOne';\n            case 2:\n                return 'prioTwo';\n            case 3:\n                return 'prioThree';\n            case 4:\n                return 'prioFour';\n        }\n    };\n\n    const getAllTasks = () => allTasks;\n\n    const taskNameWithoutLabels = (taskName) => taskName.replace(/@[^ @]+/g, '').replace(/\\s+/g, ' ');\n\n    const _createTestTasks = (function(){\n        const date1 = new Date(2023, 2, 25);\n        const date2 = new Date(2023, 2, 25);\n        const date3 = new Date(2023, 2, 24);\n\n        createTask({taskName: 'Task 1'});\n        createTask({taskName: 'Task 2'});\n        createTask({\n            priority: 1,\n            taskName: 'Task3',\n            description: 'some text some text',\n            dueDate: {\n                year: date1.getFullYear(),\n                month: date1.getMonth(),\n                day: date1.getDate(),\n                weekDay: date1.getDay(),\n                repeat: '',\n                time: `${(date1.getHours()<10 ? '0':'')+date1.getHours()}:${(date1.getMinutes()<10 ? '0':'')+date1.getMinutes()}`,\n                toText: function(){\n                    return `${days[this.weekDay]} ${this.day} ${months[this.month]}${this.year === new Date().getFullYear() ? '':this.year}${this.time === '00:00' ? '' : this.time}`;\n                }\n            },\n            projectName: {element: projects.getAllProjects()[0], subProjectIndex: null}, \n            labels: null\n        });\n        createTask({\n            priority: 2,\n            taskName: 'Task4',\n            description: '',\n            dueDate: {\n                year: date2.getFullYear(),\n                month: date2.getMonth(),\n                day: date2.getDate(),\n                weekDay: date2.getDay(),\n                repeat: '',\n                time: `${(date2.getHours()<10 ? '0':'')+date2.getHours()}:${(date2.getMinutes()<10 ? '0':'')+date2.getMinutes()}`,\n                toText: function(){\n                    return `${days[this.weekDay]} ${this.day} ${months[this.month]}${this.year === new Date().getFullYear() ? '':this.year}${this.time === '00:00' ? '' : this.time}`;\n                }\n            },\n            projectName: {element: projects.getAllProjects()[1], subProjectIndex: 0}, \n            labels: null\n        });\n        createTask({\n            priority: 3,\n            taskName: 'Task5 @read',\n            description: 'some text some textsome text some textsome text some textsome text some text',\n            dueDate: {\n                year: date3.getFullYear(),\n                month: date3.getMonth(),\n                day: date3.getDate(),\n                weekDay: date3.getDay(),\n                repeat: '',\n                time: `${(date3.getHours()<10 ? '0':'')+date3.getHours()}:${(date3.getMinutes()<10 ? '0':'')+date3.getMinutes()}`,\n                toText: function(){\n                    return `${days[this.weekDay]} ${this.day} ${months[this.month]}${this.year === new Date().getFullYear() ? '':this.year}${this.time === '00:00' ? '' : this.time}`;\n                }\n            },\n            projectName: {element: projects.getAllProjects()[0], subProjectIndex: null}, \n            labels: ['@read']\n        });\n\n    })();\n\n    return {\n        taskTemplate,\n        createTask,\n        howManyTasksInSpecifiedDay,\n        getPriorityClassName,\n        getAllTasks,\n        taskNameWithoutLabels,\n        howManyTasksInProject,\n        removeTask\n    };\n    \n})();\n\nexport default tasks\n","const labels = {\n    names: ['read', 'write', 'create', 'videos', 'podcasts', 'business', 'family'],\n    isInExistingLabels: function(currString, fullMatch){    \n        let withoutAtSign = currString.split('@');\n        let re;\n        fullMatch ? re = new RegExp(`^${withoutAtSign[1]}$`, 'i') : re = new RegExp(`^${withoutAtSign[1]}`, 'i');\n        return this.names.filter(el => re.test(el));\n    }\n};\n\nexport default labels","import tasks from \"./tasks\";\nexport const createTaskHTMLContent = (task, isOverdue) => `${tasks.taskTemplate(task.id, tasks.getPriorityClassName(task.priority), tasks.taskNameWithoutLabels(task.taskName), task.description, task.dueDate ? task.dueDate.toText():'',\ntask.projectName.element.getTemplateHTML(task.projectName.subProjectIndex), task.labels || [], isOverdue)}`;","export const taskIconsEventsManager = (activate, showDatePicker, showEditTaskBox, showAddTaskBox) => {\n    const editDateIcons = document.querySelectorAll('.container > ul li .icons > div:first-of-type');\n    const editDateIcons2 = document.querySelectorAll('.container > ul li .bottom .date');\n    const allIcons = [...editDateIcons, ...editDateIcons2];\n    const editTaskIcons = document.querySelectorAll('.container > ul li .icons > div:nth-of-type(2)');\n    const addButtons = document.querySelectorAll('.container > div.add-task');\n\n    if(activate){\n        if(showDatePicker) allIcons.forEach(el => el.addEventListener('click', showDatePicker, {once:true}));\n        if(showEditTaskBox) editTaskIcons.forEach(el => el.addEventListener('click', showEditTaskBox, {once:true}));\n        if(showAddTaskBox) addButtons.forEach(el => el.addEventListener('click', showAddTaskBox));\n    }\n    else{\n        allIcons.forEach(el => el.removeEventListener('click', showDatePicker));\n        editTaskIcons.forEach(el => el.removeEventListener('click', showEditTaskBox));\n        addButtons.forEach(el => el.removeEventListener('click', showAddTaskBox));\n    }\n};","import tasks from \"./tasks\";\nimport { createTaskHTMLContent } from \"./createTaskHTMLContent\";\nconst todayTab = (function(){\n    const overdueEl = document.querySelector('.today .overdue');\n    const todayTasksEl = document.querySelector('.today .today-tasks');\n    const titleDate = document.querySelector('.today .title .date');\n    const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];\n    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    const date = new Date();\n    date.setHours(0,0,0,0);\n\n    const _updateTextTimesTodayTab = function(){\n        todayTasksEl.querySelector('h4').innerText = `${days[date.getDay()]} - ${date.getDate()} ${months[date.getMonth()]} - Today`;\n        titleDate.innerText = `${days[date.getDay()]} ${date.getDate()} ${months[date.getMonth()]}`;\n    };\n\n    const overdueTasks = arr => arr.filter(task => task.getDateObj() ? task.getDateObj() < date : false);\n    const todayTasks = arr => arr.filter(task => task.getDateObj() ? task.getDateObj().getDate() === date.getDate()&&\n                                                                                    task.getDateObj().getMonth() === date.getMonth()&&\n                                                                                    task.getDateObj().getFullYear() === date.getFullYear() : false);\n\n    \n\n    const _displayTasksInsideOverdueOrToday = function(){\n        let content = '';\n        tasks.getAllTasks().forEach(el => {\n            const isOverdue = overdueTasks([el]).length > 0;\n            const isToday = todayTasks([el]).length > 0;\n\n            isOverdue ? content = createTaskHTMLContent(el, true) : content = createTaskHTMLContent(el);\n            \n            if(isOverdue) overdueEl.insertAdjacentHTML('beforeend', content);\n            else if(isToday) todayTasksEl.insertAdjacentHTML('beforeend', content);\n        });\n    };\n    \n    const _init = (function(){\n        _displayTasksInsideOverdueOrToday();\n        _updateTextTimesTodayTab();\n    })();\n\n    return{\n        overdueTasks,\n        todayTasks\n    };\n\n})();\n\nexport default todayTab","import addTaskBox from \"./addTaskBox\";\nimport tasks from \"./tasks\";\nimport more from \"../assets/icons/more.svg\";\nimport todayTab from \"./todayTab\";\nimport { createTaskHTMLContent } from \"./createTaskHTMLContent\";\nimport editDate from \"./editDate\";\nimport { taskIconsEventsManager } from \"./taskIconsEventsManager\";\nimport addTaskBoxInline from \"./addTaskBoxInline\";\n\nconst editTaskBox = (function(){\n    const addTaskContainer = document.querySelector('#content > .add-task-container');\n    const overdueEl = document.querySelector('.today .overdue');\n    const todayTasksEl = document.querySelector('.today .today-tasks');\n    const [...projectsTabs] = document.querySelectorAll('.main-container > .project');\n    const todayTabContainer = document.querySelector('.main-container > .today');\n    let taskContainer;\n    \n    const findTaskWithId = id => tasks.getAllTasks().find(task => task.id === id);\n\n    taskIconsEventsManager(true, null, showEditTaskBox);\n\n    const editTask = (task, id) => {\n        const isOverdue = todayTab.overdueTasks([task]).length > 0;\n        const isToday = todayTab.todayTasks([task]).length > 0;\n        const content = isOverdue ? createTaskHTMLContent(task, true):createTaskHTMLContent(task);\n        const taskEl = () => new DOMParser().parseFromString(content, 'text/html').querySelector('li');\n        \n        const projectEl = projectsTabs.find(project => project.querySelector(`li[data-id=\"${id}\"]`));\n        const subProjectEl = [...projectEl.querySelectorAll('ul:not(:first-of-type)')].find(subProject => subProject.querySelector(`li[data-id=\"${id}\"]`));\n        let taskElement = projectEl.querySelector(`li[data-id=\"${id}\"]`);\n\n        const replaceEl = () => {\n            const el = taskEl();\n            if(!task.dueDate) el.querySelector('.bottom > .date').classList.add('empty-date');\n            taskElement.replaceWith(el);\n        };\n\n        const moveElToDestination = destination => {\n            taskElement.remove();\n            const projectUl = document.querySelector(destination);\n            const el = taskEl();\n            if(!task.dueDate) el.querySelector('.bottom > .date').classList.add('empty-date');\n            projectUl.appendChild(el);\n        };\n        \n        if(typeof task.projectName.subProjectIndex === 'number'){\n            const project = task.projectName.element.name.toLowerCase();\n            const subProject = task.projectName.element.subProjects[task.projectName.subProjectIndex].name.toLowerCase();\n            const destination = `.main-container > .${project} > ul.${subProject}`;\n\n            subProjectEl && subProjectEl.classList.contains(subProject) ? replaceEl() : moveElToDestination(destination);\n        }\n        else{\n            const project = task.projectName.element.name.toLowerCase();\n            const destination = `.main-container > .${project}`;\n            projectEl.classList.contains(project) ? replaceEl() : moveElToDestination(destination);\n        }\n\n        const taskElementInsideOverdue = overdueEl.querySelector(`li[data-id=\"${id}\"]`);\n        const taskElementInsideToday = todayTasksEl.querySelector(`li[data-id=\"${id}\"]`);\n        if((isOverdue && taskElementInsideOverdue) || (isToday && taskElementInsideToday)) {\n            const task = todayTabContainer.querySelector(`li[data-id=\"${id}\"]`);\n            task.replaceWith(taskEl());\n        }\n        else{\n            const task = todayTabContainer.querySelector(`li[data-id=\"${id}\"]`);\n            if(task) task.remove();\n            if(isOverdue) overdueEl.appendChild(taskEl());\n            else if(isToday) todayTasksEl.appendChild(taskEl());\n        }\n    };   \n\n    function showEditTaskBox(e){\n        taskIconsEventsManager(false, editDate.showDatePicker, showEditTaskBox, addTaskBoxInline.showAddTaskBox);\n        const clone = addTaskContainer.cloneNode(true);\n        taskContainer = e.currentTarget.parentNode.parentNode.parentNode;\n        const topEl = taskContainer.querySelector('.top');\n        const bottomEl = taskContainer.querySelector('.bottom');\n\n        clone.classList.add('edit-task-container');\n        topEl.style.display = 'none';\n        bottomEl.style.display = 'none';\n        taskContainer.appendChild(clone);\n        \n        setUpEditTaskBox({editTaskContainer: clone, taskId: taskContainer.dataset.id, topEl: topEl, bottomEl: bottomEl});\n    };\n    \n    const setUpEditTaskBox = ({editTaskContainer, taskId, topEl, bottomEl}) => {\n        addTaskBox.events(true);\n        addTaskBox.setData(editTaskContainer);\n        addTaskBox.setEditMode(true);\n        addTaskBox.getAllButtons(false);\n        addTaskBox.events(false);\n        completeData(editTaskContainer, taskId);\n        const cancelBtn = editTaskContainer.querySelector('.bottom > button.cancel-btn');\n        const addTaskBtn = editTaskContainer.querySelector('.bottom > button.add-btn');\n        cancelBtn.addEventListener('click', resetAndDeleteTaskBox.bind({el: editTaskContainer, topEl: topEl, bottomEl: bottomEl}, false), {once:true});\n        addTaskBtn.addEventListener('click', resetAndDeleteTaskBox.bind({el: editTaskContainer, topEl: topEl, bottomEl: bottomEl, id: taskId}, true), {once:true});\n    };\n\n    function resetAndDeleteTaskBox(save, e){\n        const currTask = findTaskWithId(+this.id);\n        if(save) saveChanges(currTask, +this.id);\n        addTaskBox.events(true);\n        addTaskBox.setData(addTaskContainer);\n        addTaskBox.setEditMode(false);\n        addTaskBox.getAllButtons(true);\n        addTaskBox.events(false);\n\n        if(!save){\n            this.topEl.style.display = 'flex';\n            this.bottomEl.style.display = 'flex';\n            this.el.remove();\n        }\n        taskIconsEventsManager(true, editDate.showDatePicker, showEditTaskBox, addTaskBoxInline.showAddTaskBox);\n    };\n    \n    function saveChanges(currTask, id){\n        const changes = addTaskBox.getTaskData();\n        Object.keys(changes).forEach(el => currTask[el] = changes[el]);\n        \n        editTask(currTask, id);\n    };\n    \n    const completeData = (editTaskContainer, taskId) => {\n        const currTask = findTaskWithId(+taskId);\n        addTaskBox.setTaskData(currTask);\n        const taskName = editTaskContainer.querySelector('.top .inputs > div > input');\n        const description = editTaskContainer.querySelector('.top .inputs > input');\n        const priorityBtn = editTaskContainer.querySelector('.top .flex-container > .priority .btn');\n        const priorityPickerElements = editTaskContainer.querySelectorAll('.top .flex-container > .priority .priority-picker > div');\n        const selectProjectBtn = editTaskContainer.querySelector('.bottom .select-project');\n        const projectChecked = editTaskContainer.querySelectorAll('.bottom .project-picker img.projectChecked');\n        const [...projectsNames] = editTaskContainer.querySelectorAll('.bottom .project-picker > * p');\n        const addTaskBtn = editTaskContainer.querySelector('.bottom > button.add-btn');\n        \n        taskName.value = currTask.taskName;\n        taskName.dispatchEvent(new Event('click'));\n        taskName.focus();\n        description.value = currTask.description;\n        if(currTask.labels) addTaskBox.setAllUniqueMatchesInsideTaskName(currTask.labels);\n        addTaskBox.contentPriorityBtn(priorityBtn, currTask.priority);\n        priorityPickerElements.forEach(el => +el.dataset.priority === currTask.priority ? el.classList.add('checked'):el.classList.remove('checked'));\n\n        currTask.projectName.subProjectIndex ? \n        selectProjectBtn.innerHTML = currTask.projectName.element.getTemplateHTML(currTask.projectName.subProjectIndex) + `<img src=\"${more}\" alt=\"expand\">` :\n        selectProjectBtn.innerHTML = currTask.projectName.element.getTemplateHTML() + `<img src=\"${more}\" alt=\"expand\">`;\n        projectChecked.forEach(el => el.classList.contains('active') ? el.classList.remove('active') : el);\n        currTask.projectName.subProjectIndex ?\n        projectsNames.find(name => name.innerText === currTask.projectName.element.subProjects[currTask.projectName.subProjectIndex].name).nextElementSibling.classList.add('active'):\n        projectsNames.find(name => name.innerText === currTask.projectName.element.name).nextElementSibling.classList.add('active');\n\n        currTask.dueDate ?\n            addTaskBox.styleDueDateBtn(new Date(currTask.dueDate.year, currTask.dueDate.month, currTask.dueDate.day)):\n            addTaskBox.styleDueDateBtn(null);\n\n        addTaskBtn.style.cssText = 'opacity: 1; cursor: pointer;';\n        addTaskBtn.innerText = 'Save';\n    };\n\n    return {\n        editTask,\n        showEditTaskBox\n    };\n\n})();\n\nexport default editTaskBox","import addTaskBox from \"./addTaskBox\";\nimport tasks from \"./tasks\";\nimport editTaskBox from \"./editTaskBox\";\nimport { taskIconsEventsManager } from \"./taskIconsEventsManager\";\nimport addTaskBoxInline from \"./addTaskBoxInline\";\n\nconst editDate = (function(){\n    const datePicker = document.querySelector('#content > .add-task-container .top .flex-container .due-date .date-picker');\n    const addTaskContainer = document.querySelector('#content > .add-task-container');\n    let clonedDatePicker;\n    let clickedIcon;\n    const findTaskWithId = id => tasks.getAllTasks().find(task => task.id === id);\n\n    taskIconsEventsManager(true, showDatePicker);\n\n    function showDatePicker(e){\n        e.stopImmediatePropagation();\n        taskIconsEventsManager(false, showDatePicker, editTaskBox.showEditTaskBox, addTaskBoxInline.showAddTaskBox);\n        clonedDatePicker = datePicker.cloneNode(true);\n        clonedDatePicker.classList.add('edit-date-picker');\n        clonedDatePicker.classList.add('show');\n        \n        clickedIcon = e.currentTarget;\n        clickedIcon.style.position = 'relative';\n        clickedIcon.appendChild(clonedDatePicker);\n        const container = clickedIcon.closest('[data-id]');\n        addTaskBox.events(true);\n\n        editDate(+container.dataset.id);\n    }\n\n    const changeDataObj = () => {\n        return {\n            addTaskContainer: clickedIcon,\n            dueDate: ''\n        };\n    };\n    \n    const editDate = id => {\n        addTaskBox.datePicker(changeDataObj);\n        const pickIcon = clonedDatePicker.querySelector('.pick-icon');\n        const months = clonedDatePicker.querySelector('.calendar .months');\n        const currTask = findTaskWithId(id);\n        document.addEventListener('click', checkTarget);\n        \n        function checkTarget(e){\n            if(e.target != clonedDatePicker && !clonedDatePicker.contains(e.target) || \n            pickIcon.contains(e.target) || (months.contains(e.target) && e.target.tagName === 'LI' && !e.target.classList.contains('past'))) {\n                const chosenDate = addTaskBox.getDueDate();\n                if(chosenDate != '') {\n                    currTask.dueDate = chosenDate;\n                    editTaskBox.editTask(currTask, id);\n                }\n                \n                document.removeEventListener('click', checkTarget);\n                clonedDatePicker.remove();\n                addTaskBox.setData(addTaskContainer);\n                addTaskBox.events(false);\n                addTaskBox.setEditMode(false);\n                addTaskBox.getAllButtons(true);\n\n                taskIconsEventsManager(true, showDatePicker, editTaskBox.showEditTaskBox, addTaskBoxInline.showAddTaskBox);\n            }\n        };\n    };\n\n    return {\n        showDatePicker\n    };\n\n})();\n\nexport default editDate\n","import addTaskBox from \"./addTaskBox\";\nimport { taskIconsEventsManager } from \"./taskIconsEventsManager\";\nimport editDate from \"./editDate\";\nimport editTaskBox from \"./editTaskBox\";\n\nconst addTaskBoxInline = (function(){\n    const addTaskContainer = document.querySelector('#content > .add-task-container');\n    let deleteAddTaskInlineBox;\n    taskIconsEventsManager(true, null, null, showAddTaskBox);\n\n    function showAddTaskBox(e){\n        taskIconsEventsManager(false, editDate.showDatePicker, editTaskBox.showEditTaskBox, showAddTaskBox);\n        \n        const currTabUl = e.currentTarget.previousElementSibling;\n        const clone = addTaskContainer.cloneNode(true);\n        clone.classList.add('add-task-container-inline');\n        currTabUl.appendChild(clone);\n        e.currentTarget.style.display = 'none';\n        _setUpAddTaskBox(clone, e.currentTarget, currTabUl);\n    }\n\n    const _setUpAddTaskBox = (box, btn, currTabUl) => {\n        deleteAddTaskInlineBox = () => {\n            box.remove();\n            btn.style.display = 'flex';\n        };\n        addTaskBox.events(true);\n        addTaskBox.setData(box);\n        addTaskBox.getAllButtons(false);\n        addTaskBox.events(false);\n        addTaskBox.updateButtonsContentBasedOnTab(currTabUl);\n        const cancelBtn = box.querySelector('.bottom > button.cancel-btn');\n        cancelBtn.addEventListener('click', deleteTaskBox, {once:true});\n    };\n\n    function deleteTaskBox(e){\n        addTaskBox.events(true);\n        addTaskBox.setData(addTaskContainer);\n        addTaskBox.getAllButtons(true);\n        addTaskBox.events(false);\n\n        deleteAddTaskInlineBox();\n\n        taskIconsEventsManager(true, editDate.showDatePicker, editTaskBox.showEditTaskBox, showAddTaskBox);\n    }\n\n    return {\n        showAddTaskBox,\n        deleteTaskBox\n    };\n\n})();\n\nexport default addTaskBoxInline","import tasks from \"./tasks\";\nimport { createTaskHTMLContent } from \"./createTaskHTMLContent\";\n\nconst projectsTabs = (function(){\n    const projects = document.querySelectorAll('.main-container > .project');\n    const date = new Date();\n    date.setHours(0,0,0,0);\n    const projectTasks = projectEl => tasks.getAllTasks().filter(task => [...projectEl.classList].includes(task.projectName.element.name.toLowerCase()));\n    const overdueTasks = task => task.getDateObj() ? task.getDateObj() < date : false;\n\n    const _displayTasks = (() => {\n        projects.forEach(project => {\n            const tasks = projectTasks(project);\n            tasks.forEach(task => {\n                let content = '';\n                const isOverdue = overdueTasks(task);\n                if(typeof task.projectName.subProjectIndex === 'number'){\n                    const projectSectionName = task.projectName.element.subProjects[task.projectName.subProjectIndex].name.toLowerCase();\n                    const projectSectionEl = project.querySelector(`.${projectSectionName}`);\n                    isOverdue ? content = createTaskHTMLContent(task, true) : createTaskHTMLContent(task);\n                    projectSectionEl.innerHTML += content; \n                }else{\n                    const projectEl = project.querySelector(`ul:first-of-type`);\n                    isOverdue ? content = createTaskHTMLContent(task, true) : content = createTaskHTMLContent(task);\n                    if(!task.dueDate){\n                        const taskEl = new DOMParser().parseFromString(content, 'text/html').querySelector('li');\n                        taskEl.querySelector('.bottom > .date').classList.add('empty-date');\n                        projectEl.appendChild(taskEl);\n                    }\n                    else projectEl.innerHTML += content;\n                }\n            });\n        });\n    })();\n\n    const allTasksElements = document.querySelectorAll('.main-container > .container > ul > li');\n    return {\n        allTasksElements\n    };\n\n})();\n\nexport default projectsTabs","import tasks from \"./tasks\";\nimport projectsTabs from \"./projectsTabs\";\n\nconst taskFinished = (function(){\n    const buttons = [];\n    projectsTabs.allTasksElements.forEach(el => buttons.push(el.querySelector('.top > .priority-box')));\n    \n    buttons.forEach(button => button.addEventListener('click', taskDone));\n\n    function taskDone(e){\n        const taskEl = e.currentTarget.parentNode.parentNode;\n        const id = taskEl.dataset.id;\n        const allTaskEls = document.querySelectorAll(`.main-container > .container > ul > li[data-id=\"${id}\"]`);\n        allTaskEls.forEach(taskEl => taskEl.remove());\n        tasks.removeTask(+id);\n        console.log(e.currentTarget);\n    }\n\n    const activateTaskDoneBtn = el => el.addEventListener('click', taskDone); \n\n    return{\n        activateTaskDoneBtn\n    };\n\n})();\n\nexport default taskFinished","import tasks from \"./tasks\";\nimport fullFlag from '../assets/icons/flag.svg';\nimport flagOutline from '../assets/icons/flag-outline.svg';\nimport tag from '../assets/icons/tag.svg';\nimport checkMark from '../assets/icons/check-bold.svg';\nimport light from '../assets/icons/invalid.svg';\nimport lightFull from '../assets/icons/valid.svg';\nimport eventAvailable from '../assets/icons/event_available.svg';\nimport eventBusy from '../assets/icons/event_busy.svg';\nimport moreSvg from '../assets/icons/more.svg';\nimport projects from \"./projects\";\nimport inboxIcon from '../assets/icons/inbox.svg';\nimport existingLabels from './labels';\nimport { createTaskHTMLContent } from \"./createTaskHTMLContent\";\nimport addTaskBoxInline from \"./addTaskBoxInline\";\nimport todayTab from \"./todayTab\";\nimport taskFinished from \"./taskFinished\";\n\nconst addTaskBox = (function(){\n    const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];\n    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    const createData = (container) => {\n        const data = {\n            showHideBtn: [],\n            addTaskContainer: container,\n            addBtn: container.querySelector('button.add-btn'),\n            cancelBtn: container.querySelector('button.cancel-btn'),\n            taskName: container.querySelector('.inputs div:first-child input'),\n            description: container.querySelector('.inputs input:nth-child(2)'),\n            labelBox: container.querySelector('.label-box'),\n            expandArrow: container.querySelector('.date-picker .input-validation-text .date-req img'),\n            dateReqText: container.querySelector('.date-picker .input-validation-text > div:nth-of-type(2) ul'),\n            transparentFilterBg: document.querySelector('.filter-background-transparent'),\n            priority: 4,\n            dueDate: null,\n            projectName: {element: projects.getAllProjects()[0], sideProjectIndex: null},\n            labels: null,\n            isLabelBoxVisible: false,\n            activeLabelBoxItem: null,\n            currLabelBasedOnCaretPos: null,\n            dateUtilFunctions: null,\n            // inside taskName\n            caretPos: null,\n            allUniqueMatchesInsideTaskName: [],\n            isLabelRepeated: null,\n            editMode: false, \n        };\n        return data;\n    };\n\n    let data;\n\n    const setData = container => data = createData(container);\n    const setAllUniqueMatchesInsideTaskName = value => data.allUniqueMatchesInsideTaskName = value; \n    const setEditMode = (isEditMode) => data.editMode = isEditMode;\n    const getDueDate = () => data.dueDate;\n\n    setData(document.querySelector('#content > .add-task-container'));\n    \n    const _addTask = function(e){\n        const task = tasks.createTask({\n            priority: data.priority,\n            taskName: data.taskName.value,\n            description: data.description.value,\n            dueDate: data.dueDate,\n            projectName: data.projectName,\n            labels: data.labels\n        });\n\n        const template = createTaskHTMLContent(task, false);\n        const subProjIndex = task.projectName.subProjectIndex;\n        const projName = task.projectName.element.name.toLowerCase();\n        const taskEl = () => new DOMParser().parseFromString(template, 'text/html').querySelector('li');\n        \n        if(typeof subProjIndex === 'number'){\n            const subProjName = task.projectName.element.subProjects[subProjIndex].name.toLowerCase();\n            const container = document.querySelector(`.main-container > .${projName} > ul.${subProjName}`);\n            const newTaskEl = taskEl();\n            if(!task.dueDate) newTaskEl.querySelector('.bottom > .date').classList.add('empty-date');\n            taskFinished.activateTaskDoneBtn(newTaskEl.querySelector('.top > .priority-box'));\n            container.appendChild(newTaskEl);\n        }else{\n            const container = document.querySelector(`.main-container > .${projName} > ul:first-of-type`);\n            const newTaskEl = taskEl();\n            if(!task.dueDate) newTaskEl.querySelector('.bottom > .date').classList.add('empty-date');\n            taskFinished.activateTaskDoneBtn(newTaskEl.querySelector('.top > .priority-box'));\n            container.appendChild(newTaskEl);\n        }\n\n        const isToday = todayTab.todayTasks([task]).length > 0;\n        if(isToday){\n            const container = document.querySelector(`.main-container > .today > ul.today-tasks`);\n            const newTaskEl = taskEl();\n            taskFinished.activateTaskDoneBtn(newTaskEl.querySelector('.top > .priority-box'));\n            container.appendChild(newTaskEl);\n        }\n\n        data.showHideBtn.forEach(item => {\n            item.el.active = false;\n            item.el.classList.remove(item.className);\n        });\n        _resetValuesAddTaskContainer();\n\n        if(data.addTaskContainer.classList.contains('add-task-container-inline')) addTaskBoxInline.deleteTaskBox(e);\n    };\n\n    const _checkTaskNameEmpty = function(){\n        if(data.taskName.value === ''){\n            data.addBtn.style.cssText = 'opacity: 0.6; cursor:not-allowed;';\n            data.addBtn.removeEventListener('click', _addTask);\n        }\n        else{\n            data.addBtn.style.cssText = 'opacity: 1; cursor: pointer;';\n            if(!data.editMode) data.addBtn.addEventListener('click', _addTask, {once: true});\n        }\n    };\n\n    const getTaskData = () => {\n        return {\n            priority: data.priority, \n            taskName: data.taskName.value, \n            description: data.description.value, \n            dueDate: data.dueDate, \n            projectName: data.projectName, \n            labels: data.labels\n        };\n    };\n\n    const setTaskData = ({priority,dueDate, projectName, labels}) => {\n        data.priority = priority;\n        data.dueDate = dueDate;\n        data.projectName = projectName;\n        data.labels = labels;\n    };\n\n    const events = (reset = false) => {\n        if(!reset){\n            data.taskName.addEventListener('input', lookForLabels);\n            data.taskName.addEventListener('click', lookForLabels);\n            document.addEventListener('keydown', arrowMoveInsideLabelBox);\n            document.addEventListener('click', activateButtons);\n            data.taskName.addEventListener('keydown', disableArrows);\n            data.expandArrow.addEventListener('click', e => data.dateReqText.classList.toggle('show'));\n        }else{\n            data.taskName.removeEventListener('input', lookForLabels);\n            data.taskName.removeEventListener('click', lookForLabels);\n            document.removeEventListener('keydown', arrowMoveInsideLabelBox);\n            document.removeEventListener('click', activateButtons);\n            data.taskName.removeEventListener('keydown', disableArrows);\n            data.expandArrow.removeEventListener('click', e => data.dateReqText.classList.toggle('show'));\n        }\n        //disable arrow up/down inside input field\n        function disableArrows(e){\n            if(e.key === 'ArrowUp' || e.key === 'ArrowDown') e.preventDefault();\n        }\n    };\n\n    events();\n\n    function lookForLabels(e){\n        _checkTaskNameEmpty();\n        \n        let currString;\n        if(e === data.taskName){\n            currString = e.value;\n            data.caretPos = e.selectionStart;\n        }else{\n            _hideElWithClass(/label-picker|priority-picker|date-picker|project-picker/, 'show');\n            currString = e.target.value;\n            data.caretPos = e.target.selectionStart;\n        }\n\n        const wrapper = data.addTaskContainer.querySelector('.top .inputs div:first-of-type');\n        const allRedBoxes = wrapper.querySelectorAll('.label-added');\n        const stringBasedOnCaretPos = currString.slice(0, data.caretPos);\n        const currLabel = stringBasedOnCaretPos.match(/@[^ @]*$/);\n        const re = /@[^ @]+/g;\n        let allMatches = [];\n        let match;\n        \n        allRedBoxes.forEach(el => wrapper.removeChild(el));\n        while ((match = re.exec(currString)) != null) {\n            if(allMatches.find(el => el.str.toLowerCase() === match[0].toLowerCase())) data.isLabelRepeated = true;\n            else{\n                data.isLabelRepeated = false;\n                allMatches.push({\n                    str: match[0],\n                    start: match.index,\n                    end: (match.index + match[0].length-1),\n                    redBox: _createRedBox(currString.slice(0, match.index), match[0])\n                });\n            }\n        }\n        \n        const allMatchesOnlyStr = allMatches.map(el => el.str);\n        const unique = allMatchesOnlyStr.filter((el, i, arr) => arr.indexOf(el) === i);\n        data.allUniqueMatchesInsideTaskName = unique;\n        data.labels = unique;\n        \n        if(currLabel){\n            const matches = existingLabels.isInExistingLabels(currLabel[0], false);\n            const fullMatch = existingLabels.isInExistingLabels(currLabel[0], true);\n            data.currLabelBasedOnCaretPos = currLabel[0];\n            \n            _createLabelBoxContent(matches, fullMatch, currLabel[0], data.isLabelRepeated);\n            _showLabelBox();\n            _labelBoxChooseByClicking(currLabel[0]);\n        }else{\n            data.labelBox.classList.remove('show');\n            data.isLabelBoxVisible = false;\n        }\n    };\n\n    const _getTextWidth = function(text, font){\n        const canvas = _getTextWidth.canvas || (_getTextWidth.canvas = document.createElement('canvas'));\n        const ctx = canvas.getContext('2d');\n        ctx.font = font;\n        const metrics = ctx.measureText(text);\n        return metrics.width;\n    };\n\n    const _createRedBox = function(startStr, currStr){\n        const wrapper = data.addTaskContainer.querySelector('.top .inputs div:first-of-type');\n        const el = document.createElement('div');\n        // +2 because of padding\n        const left = _getTextWidth(startStr, 'bold 0.95rem Arial') + 2;\n        const txtWidth = _getTextWidth(currStr, 'bold 0.95rem Arial');\n        \n        el.classList.add('label-added');\n        el.style.cssText = `left: ${left}px; width: ${txtWidth}px`;\n        wrapper.appendChild(el);\n        return el;\n    };\n\n    const _createLabelBoxContent = function(matches, fullMatch, currStr, repeated){\n        const getTemplate = (labelName) => `<div><img src=\"${tag}\" alt=\"label\"><p>${labelName}</p></div>`;\n        let content = '';\n        \n        if(repeated) data.labelBox.innerHTML = `<div><p>Label ${fullMatch} is already included</p></div>`;\n        else if(fullMatch.length != 0) data.labelBox.innerHTML = content;\n        else{\n            if(currStr != '@') content += `<div><p>To create label <span>${currStr}</span> click here or press (space, @, enter)</p></div>`;\n\n            matches.forEach(el => {\n                content += getTemplate(el);\n            });\n            data.labelBox.innerHTML = content;\n            let span = data.labelBox.querySelector('span');\n            if(span) span.style.color = '#f87171';\n        }\n    };\n\n    const _showLabelBox = function(){\n        const [...labelElements] = data.labelBox.querySelectorAll('div');\n\n        data.labelBox.classList.add('show');\n        data.isLabelBoxVisible = true;\n        data.labelBox.scrollTop = 0;\n        data.activeLabelBoxItem = 0;\n\n        if(labelElements.length != 0){\n            let currActive = labelElements.find(el => el.classList.contains('active'));\n            if(currActive) currActive.classList.remove('active');\n            labelElements[0].classList.add('active');\n        }\n    };\n\n    function arrowMoveInsideLabelBox(e){\n        const labelElements = data.labelBox.querySelectorAll('div');\n        if(labelElements.length === 0 )return;\n        if((e.key === 'Enter' || e.key === 'ArrowUp' || e.key === 'ArrowDown') && data.isLabelBoxVisible){\n            \n            if(e.key === 'Enter'){\n                _labelBoxChoice(labelElements[data.activeLabelBoxItem], data.currLabelBasedOnCaretPos);\n            }else{\n                labelElements[data.activeLabelBoxItem].classList.remove('active');\n                e.key === 'ArrowUp' ? data.activeLabelBoxItem-- : data.activeLabelBoxItem++;\n                if(data.activeLabelBoxItem < 0) data.activeLabelBoxItem = 0;\n                if(data.activeLabelBoxItem > labelElements.length-1) data.activeLabelBoxItem = labelElements.length-1;\n                \n                labelElements[data.activeLabelBoxItem].classList.add('active');\n                scroll();\n\n                function scroll(){\n                    let elHeight = labelElements[0].offsetHeight;\n                    let scrollTop = data.labelBox.scrollTop;\n                    let viewport = scrollTop + data.labelBox.offsetHeight;\n                    let elOffset = elHeight * data.activeLabelBoxItem;\n\n                    if(elOffset < scrollTop || (elOffset + elHeight) > viewport){\n                        data.labelBox.scrollTop = elOffset;\n                    }\n                }\n            }\n        }\n    }\n\n    const _labelBoxChooseByClicking = function(currLab){\n        const labelElements = data.labelBox.querySelectorAll('div');\n        \n        labelElements.forEach(el => {\n            el.addEventListener('click', func, {once: true});\n            function func(e){\n                _labelBoxChoice(el,currLab);\n            }\n        });\n    };\n\n    const _labelBoxChoice = function(el, currLab){\n        if(data.isLabelRepeated) return;\n\n        let currLabWithoutAtSign = currLab.split('@')[1];\n        if(/span/g.test(el.innerHTML)){\n            // add to existing labels\n            existingLabels.names.push(currLabWithoutAtSign);\n            data.taskName.value += ' ';\n            data.labelBox.classList.remove('show');\n            data.isLabelBoxVisible = false;\n            lookForLabels(data.taskName);\n        }else{\n            let restOfExistingLabel = el.innerText.replace(currLabWithoutAtSign, '');\n            data.taskName.value += restOfExistingLabel + ' ';\n            data.labelBox.classList.remove('show');\n            data.isLabelBoxVisible = false;\n            lookForLabels(data.taskName);\n        }\n    };\n\n    const _hideElWithClass = function(regex, removeClass){ \n        // prevent add task container from disappearing\n        document.removeEventListener('click', activateButtons);\n        data.showHideBtn.forEach((item, i) => {\n            if([...item.el.classList].find(classN => regex.test(classN))){\n                item.el.classList.remove(removeClass);\n                item.active = false;\n            }\n        });\n        setTimeout(() => document.addEventListener('click', activateButtons), 100);\n    };\n\n    const contentPriorityBtn = (btn, priority) => {\n        switch(priority){\n            case 1:\n                btn.innerHTML = `<img class=\"svg\" src=\"${fullFlag}\" alt=\"more\" \n                style=\"filter: invert(44%) sepia(74%) saturate(3398%) hue-rotate(334deg) brightness(96%) contrast(83%);\">Priority 1`;\n                break;\n            case 2:\n                btn.innerHTML = `<img class=\"svg\" src=\"${fullFlag}\" alt=\"more\" \n                style=\"filter: invert(70%) sepia(49%) saturate(4175%) hue-rotate(1deg) brightness(105%) contrast(92%);\">Priority 2`;\n                break;\n            case 3:\n                btn.innerHTML = `<img class=\"svg\" src=\"${fullFlag}\" alt=\"more\" \n                style=\"filter: invert(45%) sepia(41%) saturate(982%) hue-rotate(178deg) brightness(102%) contrast(94%);\">Priority 3`;\n                break;\n            case 4:\n                btn.innerHTML = `<img class=\"svg\" src=\"${flagOutline}\" alt=\"more\">Priority`;\n                break;\n        }\n    }\n\n    const styleDueDateBtn = function(date){\n        const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];\n        const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n        const dueDateBtn = data.addTaskContainer.querySelector('.due-date');\n        const btn = dueDateBtn.querySelector('.btn');\n        const img = btn.querySelector('img');\n        const today = new Date();\n        const tomorrow = new Date(today.getFullYear(), today.getMonth(), today.getDate()+1);\n        const nextWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate()+7);\n        \n        if(date === null){\n            btn.innerText = 'Set due date';\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#737373';\n            img.style.filter = 'invert(48%) sepia(2%) saturate(8%) hue-rotate(334deg) brightness(92%) contrast(92%)';\n        }\n        else if(date < new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0, 0)){\n            btn.innerText = `${days[date.getDay()]} ${date.getDate()} ${months[date.getMonth()]}`;\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#ef4444';\n            img.style.filter = 'invert(52%) sepia(82%) saturate(4219%) hue-rotate(335deg) brightness(97%) contrast(94%)';\n        }\n        else if(date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()){\n            btn.innerText = 'Today';\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#059669';\n            img.style.filter = 'invert(39%) sepia(96%) saturate(520%) hue-rotate(115deg) brightness(92%) contrast(96%)';\n        }\n        else if(date.getDate() === tomorrow.getDate() && date.getMonth() === tomorrow.getMonth() && date.getFullYear() === tomorrow.getFullYear()){\n            btn.innerText = 'Tomorrow';\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#fbbf24';\n            img.style.filter = 'invert(84%) sepia(47%) saturate(2119%) hue-rotate(339deg) brightness(104%) contrast(97%)';\n        }\n        else if(date.getDate() <= nextWeek.getDate() && date.getMonth() <= nextWeek.getMonth() && date.getFullYear() === nextWeek.getFullYear()){\n            btn.innerText = `${days[date.getDay()]} ${date.getDate()} ${months[date.getMonth()]}`;\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#7e22ce';\n            img.style.filter = 'invert(16%) sepia(67%) saturate(6573%) hue-rotate(272deg) brightness(84%) contrast(92%)';\n        }\n        else{\n            btn.innerText = `${days[date.getDay()]} ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear() === today.getFullYear() ? '' : date.getFullYear()}`;\n            btn.insertBefore(img, btn.firstChild);\n            btn.style.color = '#737373';\n            img.style.filter = 'invert(48%) sepia(2%) saturate(8%) hue-rotate(334deg) brightness(92%) contrast(92%)';\n        }\n    }\n\n    const _activateChoices = function(btn, element, className){\n        let isPriorityPicker = element.classList.contains('priority-picker');\n        let isDatePicker = element.classList.contains('date-picker');\n        let isLabelPicker = element.classList.contains('label-picker');\n        let isProjectPicker = element.classList.contains('project-picker');\n        \n        if(isPriorityPicker){\n            const choices = [...element.children];\n            choices.forEach(el => {\n                el.addEventListener('click', e => {\n                    data.priority = +el.dataset.priority;\n                    choices.forEach(el2 => el2.classList.remove('checked'));\n                    el.classList.add('checked');\n\n                    contentPriorityBtn(btn, data.priority);\n                    \n                    _hideElWithClass(/priority-picker/, className);\n                }, {once:true});\n            });\n        }\n        else if(isDatePicker){\n            datePicker();\n            \n        }\n        else if(isLabelPicker){\n            const labelPicker = data.addTaskContainer.querySelector('.top .label .label-picker');\n            //Create label picker content\n            createLabelPickerContent();\n            //put labels inside input\n            putLabelsInsideInput();\n\n            function putLabelsInsideInput(){\n                const options = data.addTaskContainer.querySelectorAll('.top .label .label-picker > div');\n                const spliceIn = (originalStr, strToAdd, pos) => [originalStr.slice(0, pos), strToAdd, originalStr.slice(pos)].join('');\n\n                options.forEach(el => {\n                    el.addEventListener('click', e => {\n                        if(!el.classList.contains('checked')){\n                            el.classList.add('checked');\n                            data.taskName.value = spliceIn(data.taskName.value, `@${el.innerText} `, data.caretPos);\n                        }else{\n                            const re = new RegExp(`@${el.innerText}`, 'gi');\n                            data.taskName.value = data.taskName.value.replace(re, '');\n                            data.taskName.value = data.taskName.value.trim();\n                            el.classList.remove('checked');\n                        }\n                        data.taskName.focus();\n                        lookForLabels(data.taskName);\n                    });\n                });\n            }\n\n            function createLabelPickerContent(){\n                const getTemplate = (labelName, checked = '') => `\n                <div class=\"${checked}\">\n                    <img src=\"${tag}\" alt=\"label\">\n                    <p>${labelName}</p>\n                    <div class=\"check-box\">\n                        <img src=\"${checkMark}\" alt=\"check\">\n                    </div>\n                </div>\n                `;\n                let content = '';\n\n                existingLabels.names.forEach(el => {\n                    data.allUniqueMatchesInsideTaskName.find(item => item.slice(1) === el) ? content += getTemplate(el, 'checked') : content += getTemplate(el);\n                });\n                labelPicker.innerHTML = content;\n            }\n        }\n        else if(isProjectPicker){\n            const selectProjectBtn = data.addTaskContainer.querySelector('.bottom .select-project');\n            const projectPicker = data.addTaskContainer.querySelector('.project-picker');\n            const inbox = projectPicker.querySelector('.inbox');\n            const mainProjects = projectPicker.querySelectorAll('ul figcaption');\n            const sideProjects = projectPicker.querySelectorAll('ul li');\n            const allProjects = [inbox, ...mainProjects, ...sideProjects];\n            const [...projectChecked] = projectPicker.querySelectorAll('img.projectChecked');\n            const input = projectPicker.querySelector('input');\n            input.value = '';\n            allProjects.forEach(el => el.style.removeProperty('display'));\n\n            mainProjects.forEach(el => el.querySelector('.bullet').style.cssText = `background-color: ${projects.getAllProjects().find(proj => el.innerText === proj.name).colorValue};`);\n\n            allProjects.forEach(el => {\n                el.addEventListener('click', e => {\n                    const clickedProject = e.target.innerText;\n                    projects.getAllProjects().forEach(el2 => {\n                        if(el2.name === clickedProject){\n                            selectProjectBtn.innerHTML = el2.getTemplateHTML() + `<img src=\"${moreSvg}\" alt=\"expand\">`;\n                            data.projectName = {element: el2, subProjectIndex: null};\n                        }\n                        else{\n                            el2.subProjects.forEach((sub, i) => {\n                                if(sub.name === clickedProject){\n                                    selectProjectBtn.innerHTML = el2.getTemplateHTML(i) + `<img src=\"${moreSvg}\" alt=\"expand\">`;\n                                    data.projectName = {element: el2, subProjectIndex: i};                                 \n                                }\n                            });\n                        }\n                    });\n                    const img = e.currentTarget.querySelector('img.projectChecked');\n                    projectChecked.forEach(el => el.classList.contains('active') ? el.classList.remove('active') : el);\n                    img.classList.add('active');\n                    _hideElWithClass(/project-picker/, 'show');\n                },{once: true});\n            });\n\n            input.addEventListener('input', e => {\n                const re = new RegExp(`${e.target.value}`, 'i');\n                allProjects.forEach(el => {\n                    re.test(el.innerText) ? el.style.display = 'flex' : el.style.display = 'none'; \n                });\n            });\n        }\n    };\n\n    const formatDate = (date, repeat = '') => {\n        return {\n            year: date.getFullYear(),\n            month: date.getMonth(),\n            day: date.getDate(),\n            weekDay: date.getDay(),\n            repeat: repeat,\n            time: `${(date.getHours()<10 ? '0':'')+date.getHours()}:${(date.getMinutes()<10 ? '0':'')+date.getMinutes()}`,\n            toText: function(){\n                return `${days[this.weekDay]} ${this.day} ${months[this.month]}${this.year === new Date().getFullYear() ? '':this.year}${this.time === '00:00' ? '' : this.time}`;\n            }\n        }\n    };\n\n    function datePicker(changeDataObj){\n        if(changeDataObj) data = changeDataObj();\n        const input = data.addTaskContainer.querySelector('.date-picker .type-date input');\n        const inputValidationText = data.addTaskContainer.querySelector('.date-picker .input-validation-text');\n        const dateReqText = data.addTaskContainer.querySelector('.date-picker .input-validation-text > div:nth-of-type(2) ul');\n        const anyTasksText = inputValidationText.querySelector('div:first-of-type div p:nth-of-type(2)');\n        const fullDateTypedInInput = inputValidationText.querySelector('div:first-of-type div p:first-of-type');\n        const eventIcon = inputValidationText.querySelector('div:first-of-type img');\n        const today = new Date();\n        const quickBtns = data.addTaskContainer.querySelectorAll('.date-picker .pick-icon > div');\n        \n        \n        updateQuickBtnsSideDate();\n        dateReqText.classList.remove('show');\n        inputValidationText.style.display = 'none';\n\n        validateInputDate();\n        createCalendar();\n        input.addEventListener('focus', e => inputValidationText.style.display = 'block');\n        quickBtns.forEach(el => el.addEventListener('click', changeDateBtn));\n        \n        \n        data.dateUtilFunctions = {\n            formatDateFun: (date, repeat = '') => formatDate(date, repeat),\n            styleDueDateBtnFun: (date) => styleDueDateBtn(date),\n        };\n\n        function changeDateBtn(e){\n            let date;\n            const icon = data.addTaskContainer.querySelector('.date-picker .type-date .icon img');\n            switch(e.currentTarget.querySelector('span').innerText){\n                case 'Today':\n                    date = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n                    if(!changeDataObj){\n                        _hideElWithClass(/date-picker/, 'show');\n                        styleDueDateBtn(date);\n                    }\n                    data.dueDate = formatDate(date);\n                    input.value = 'Today';\n                    break;\n                case 'Tomorrow':\n                    date = new Date(today.getFullYear(), today.getMonth(), today.getDate()+1);\n                    if(!changeDataObj){\n                        _hideElWithClass(/date-picker/, 'show');\n                        styleDueDateBtn(date);\n                    }\n                    data.dueDate = formatDate(date);\n                    input.value = 'Tomorrow';\n                    break;\n                case 'Next week':\n                    date = new Date(today.getFullYear(), today.getMonth(), today.getDate()+7);\n                    if(!changeDataObj){\n                        _hideElWithClass(/date-picker/, 'show');\n                        styleDueDateBtn(date);\n                    }\n                    data.dueDate = formatDate(date);\n                    input.value = days[data.dueDate.weekDay];\n                    break;\n                case 'Next weekend':\n                    let howManyDaysToWeekend = today.getDay() === 6 || today.getDay === 7 ? 7 : 6-today.getDay(); \n                    date = new Date(today.getFullYear(), today.getMonth(), today.getDate()+howManyDaysToWeekend);\n                    if(!changeDataObj){\n                        _hideElWithClass(/date-picker/, 'show');\n                        styleDueDateBtn(date);\n                    }\n                    data.dueDate = formatDate(date);\n                    input.value = days[data.dueDate.weekDay];\n                    break;\n                case 'No date':\n                    data.dueDate = null;\n                    if(!changeDataObj){\n                        _hideElWithClass(/date-picker/, 'show');\n                        styleDueDateBtn(null);\n                    }\n                    input.value = '';\n\n                    icon.src = `${light}`;\n                    icon.style.filter = 'invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)';\n                    eventIcon.src = eventBusy;\n                    fullDateTypedInInput.innerText = 'No results';\n                    anyTasksText.innerText = '';\n                    break;\n            }\n            if(e.currentTarget.querySelector('span').innerText != 'No date'){\n                icon.src = `${lightFull}`;\n                icon.style.filter = 'invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)';\n                eventIcon.src = eventAvailable;\n                fullDateTypedInInput.innerText = data.dueDate.toText();\n                anyTasksText.innerText = `${tasks.howManyTasksInSpecifiedDay(date).length} tasks`;\n            }\n        }\n\n        function updateQuickBtnsSideDate(){\n            quickBtns.forEach(el => {\n                const p = el.querySelector('p');\n                const span = el.querySelector('span');\n                switch(span.innerText){\n                    case 'Today':\n                        p.innerText = `${days[today.getDay()]}`;\n                        break;\n                    case 'Tomorrow':\n                        p.innerText = `${days[new Date(today.getFullYear(), today.getMonth(), today.getDate()+1).getDay()]}`;\n                        break;\n                    case 'Next week':\n                        let nextW = new Date(today.getFullYear(), today.getMonth(), today.getDate()+7);\n                        p.innerText = `${days[nextW.getDay()]} ${nextW.getDate()} ${months[nextW.getMonth()]}`;\n                        break;\n                    case 'Next weekend':\n                        let howManyDaysToWeekend = today.getDay() === 6 || today.getDay === 7 ? 7 : 6-today.getDay(); \n                        let nextWEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate()+howManyDaysToWeekend);\n                        p.innerText = `${days[nextWEnd.getDay()]} ${nextWEnd.getDate()} ${months[nextWEnd.getMonth()]}`;\n                        break;\n                    case 'No date':\n                        break;\n                }\n            });\n        }\n\n        function validateInputDate(){\n            const icon = data.addTaskContainer.querySelector('.date-picker .type-date .icon img');\n            const currDay = today.getDate();  // 1-31\n            const currMonth = today.getMonth();  // 0-11\n            const currYear = today.getFullYear(); \n            \n\n            input.addEventListener('input', e => {\n                // match day depending on current month, month is not specified by user\n                const re1 = /^((?:(?=1 )(1 (0?[1-9]|[12]\\d))|((?=[024679]|11)(([024679]|11) (0?[1-9]|[12]\\d|3[01]))|(([358]|10|12) (0?[1-9]|[12]\\d|30))))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?)$/;\n                // full input validation, month is required, and special keywords are available\n                const re2 = /^((([0-9]{4}[\\/\\- ])?((?:(?=(0?2|Feb)[\\/\\- ])((0?2|Feb)[\\/\\- ](0?[1-9]|[12]\\d))|((?=(0?[13578]|10|12|(Jan|Mar|May|Jul|Aug|Oct|Dec)[\\/\\- ]))((0?[13578]|10|12|(Jan|Mar|May|Jul|Aug|Oct|Dec))[\\/\\- ](0?[1-9]|[12]\\d|3[01]))|(((0?[469]|11|(Apr|Jul|Sep|Nov))[\\/\\- ])(0?[1-9]|[12]\\d|30)))))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?)|((Mon|Tue|Wed|Thu|Fri|Sat|Sun|Today|Weekend|Tomorrow|Day after tomorrow|Next week|in \\d?\\d?\\d days|in \\d?\\d weeks|(in (([1-9]\\d? months)|(1 month)))|(every (Day|Mon|Tue|Wed|Thu|Fri|Sat|Sun|Second|Third|Fourth|Fifth|sixth)))( (0[0-9]|1[0-9]|2[0-3])((:[0-5][0-9])?){2})?))$/i;\n    \n                const inputVal = e.target.value;\n                if(re2.test(inputVal)){\n                    icon.src = `${lightFull}`;\n                    icon.style.filter = 'invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)';\n                    eventIcon.src = eventAvailable;\n                    const values = inputVal.split(/[\\-\\/ ]/);\n                    const month = (value) => /[a-z]+/i.test(value) ? months.findIndex(el => (new RegExp(`${value}`, 'i')).test(el))+1 :                               \n                                                                    value.charAt(0) === '0' ? value.charAt(1) : value;\n                    const day = (value) => value.charAt(0) === '0' ? value.charAt(1) : value;\n                    const time = (value) => value ? value.split(':') : '';\n                    let date;\n                    let repeatDays = '';\n                    \n                    //console.log(values);\n                    if(values[0].length === 4 && !/[a-z]/i.test(values[0])) date = new Date(values[0], month(values[1])-1, day(values[2]), ...time(values[3]));\n                    else{\n                        if(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i.test(inputVal)){\n                            date = getNextDayOfTheWeek(values[0]);\n                            if(values[1]) date.setHours(...time(values[1]));\n                        }\n                        else if(/Today/i.test(inputVal)){\n                            date = today;\n                            date.setHours(0, 0, 0, 0);\n                            if(values[1]) date.setHours(...time(values[1]));\n                        }\n                        else if(/Weekend/i.test(inputVal)){\n                            date = getNextDayOfTheWeek('sat');\n                            if(values[1]) date.setHours(...time(values[1]));\n                        }\n                        else if(/^Tomorrow/i.test(inputVal)){\n                            let weekDay = today.getDay()+1 > 6 ? 0 : today.getDay()+1;\n                            date = getNextDayOfTheWeek(days[weekDay]);\n                            if(values[1]) date.setHours(...time(values[1]));\n                        }\n                        else if(/Day after tomorrow/i.test(inputVal)){\n                            let weekDay = (today.getDay()+2) % 7;\n                            date = getNextDayOfTheWeek(days[weekDay]);\n                            if(values[3]) date.setHours(...time(values[3]));\n                        }\n                        else if(/Next week/i.test(inputVal)){\n                            let weekDay = today.getDay();\n                            date = getNextDayOfTheWeek(days[weekDay]);\n                            if(values[2]) date.setHours(...time(values[2]));\n                        }\n                        else if(/in/i.test(inputVal)){\n                            date = new Date(currYear, currMonth, currDay+values[1]);\n                            if(values[3]) date.setHours(...time(values[3]));\n                        }\n                        else if(/every/i.test(inputVal)){\n                            if(/day/i.test(values[1])){\n                                date = today;\n                                date.setHours(0, 0, 0, 0);\n                            }\n                            else if(/(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i.test(values[1])){\n                                date = getNextDayOfTheWeek(values[1]);\n                            }else{\n                                let keywords = ['second', 'third', 'fourth', 'fifth', 'sixth'];\n                                date = new Date(currYear, currMonth, currDay+keywords.findIndex(el => (new RegExp(`${values[1]}`,'i')).test(el))+2);\n                            }\n                            if(values[2]) date.setHours(...time(values[2]));\n                            repeatDays = values[1];\n                        }\n                        else{\n                            date = new Date(currYear, month(values[0])-1, day(values[1]), ...time(values[2]));\n                        }\n                        \n\n                        function getNextDayOfTheWeek(dayName, excludeToday = true, refDate = new Date()) {\n                            const dayOfWeek = [\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"]\n                                            .indexOf(dayName.slice(0,3).toLowerCase());\n                            if (dayOfWeek < 0) return;\n                            refDate.setHours(0,0,0,0);\n                            refDate.setDate(refDate.getDate() + +!!excludeToday + \n                                            (dayOfWeek + 7 - refDate.getDay() - +!!excludeToday) % 7);\n                            return refDate;\n                        }\n                    }\n\n                    if(date < today){\n                        invalidInput('Only future dates are accepted');\n                    }\n                    else{\n                        let formattedDate;\n                        repeatDays.length === 0 ? formattedDate=formatDate(date) : formattedDate=formatDate(date, repeatDays);\n                        fullDateTypedInInput.innerText = formattedDate.toText();\n                        anyTasksText.innerText = `${tasks.howManyTasksInSpecifiedDay(date).length} tasks`;\n                        data.dueDate = formattedDate;\n\n                        if(!changeDataObj) input.addEventListener('focusout', e => styleDueDateBtn(date),{once:true});\n                    } \n                }\n                else if(re1.test(`${currMonth} ${inputVal}`)){\n                    icon.src = `${lightFull}`;\n                    icon.style.filter = 'invert(80%) sepia(61%) saturate(1076%) hue-rotate(338deg) brightness(102%) contrast(97%)';\n                    eventIcon.src = eventAvailable;\n                    const values = inputVal.split(' ');\n                    const day = values[0].charAt(0) === '0' ? values[0].charAt(1) : values[0];\n                    const time = values[1] ? values[1].split(':') : '';\n                    \n                    let date = new Date(currYear, currMonth, day, ...time);\n                    if(date < today && !(+day === +currDay && time === '')) date.setFullYear(currYear+1);\n                    let formattedDate = formatDate(date);\n                    fullDateTypedInInput.innerText = formattedDate.toText();\n                    anyTasksText.innerText = `${tasks.howManyTasksInSpecifiedDay(date).length} tasks`;\n                    data.dueDate = formattedDate;\n                    \n                    if(!changeDataObj) input.addEventListener('focusout', e => styleDueDateBtn(date),{once:true});                                                      \n                }\n                else invalidInput('No results');\n\n                function invalidInput(txt){\n                    if(!changeDataObj) input.addEventListener('focusout', e => styleDueDateBtn(null),{once:true});\n                    data.dueDate = null;\n                    icon.src = `${light}`;\n                    icon.style.filter = 'invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)';\n                    eventIcon.src = eventBusy;\n                    fullDateTypedInInput.innerText = `${txt}`;\n                    anyTasksText.innerText = '';\n                }\n            });\n        }\n\n        function createCalendar(){\n            const today = new Date();\n            let currentMonth = today.getMonth();\n            let currentYear = today.getFullYear();\n            const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n            const wrapper = data.addTaskContainer.querySelector('.date-picker .calendar .months');\n            wrapper.innerHTML = '';\n            const currMonthEl = data.addTaskContainer.querySelector('.date-picker .calendar .curr-month');\n            const calendar = data.addTaskContainer.querySelector('.date-picker .calendar');\n            const nav = data.addTaskContainer.querySelector('.date-picker .calendar .nav');\n            const navUl = nav.querySelector('ul');\n            const navUlElements = navUl.querySelectorAll('li');\n            const previousBtn = data.addTaskContainer.querySelector('.date-picker .calendar .nav .icons > div:first-of-type');\n            const goToStartBtn = data.addTaskContainer.querySelector('.date-picker .calendar .nav .icons > div:nth-of-type(2)');\n            const nextBtn = data.addTaskContainer.querySelector('.date-picker .calendar .nav .icons > div:last-of-type');\n            const input = data.addTaskContainer.querySelector('.date-picker .type-date input');\n            calendar.scrollTop = 0;\n\n            calendar.addEventListener('scroll', scrolling);\n            previousBtn.addEventListener('click', previous);\n            goToStartBtn.addEventListener('click', goToStart);\n            nextBtn.addEventListener('click', next);\n\n            currMonthEl.innerHTML = months[currentMonth] + ' ' + currentYear;\n            showMonth(currentMonth, currentYear);\n            showNextMonth();\n            const calendarUl = data.addTaskContainer.querySelector('.date-picker .calendar .months ul');\n            let currUl = calendarUl;\n\n            function scrolling(e){\n                calendar.scrollTop === 0 ? nav.style.cssText = 'border: none;':nav.style.cssText = 'border-bottom: 1px solid gray;';\n                \n                if(currUl.nextElementSibling && isScrolledIntoView(currUl.nextElementSibling.nextElementSibling)){\n                    showNextMonth();\n                    currUl = currUl.nextElementSibling.nextElementSibling;\n                }\n                else if(currUl.previousElementSibling && isScrolledIntoView(currUl.previousElementSibling.previousElementSibling)){\n                    currUl = currUl.previousElementSibling.previousElementSibling;\n                }\n            }\n\n            function goToStart(){\n                nav.style.cssText = 'border: none;';\n                calendar.removeEventListener('scroll', scrolling);\n                currUl = calendarUl;\n                currUl.scrollIntoView({behavior: 'smooth', block: 'end'});\n                setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n            }\n            \n            function next(){  \n                nav.style.cssText = 'border-bottom: 1px solid gray;';\n                calendar.removeEventListener('scroll', scrolling);\n                if(!currUl.nextElementSibling.nextElementSibling.nextElementSibling){\n                    showNextMonth();\n                    showNextMonth();\n                }\n            \n                let nextUl = currUl.nextElementSibling.nextElementSibling;\n                nextUl.scrollIntoView({behavior: \"smooth\", block: 'nearest'});\n                currUl = nextUl;\n                setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n            }\n\n            function previous(){\n                if(currUl.previousElementSibling){\n                    calendar.removeEventListener('scroll', scrolling);\n                    let prevUl = currUl.previousElementSibling.previousElementSibling;\n                    prevUl.scrollIntoView({behavior: 'smooth', block: 'end'});\n                    currUl = prevUl;\n                    if(!currUl.previousElementSibling) nav.style.cssText = 'border: none;';\n                    setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n                }\n            }\n\n            function isScrolledIntoView(elem){\n                const parentViewTop = calendar.scrollTop;\n                const parentViewBottom = parentViewTop + calendar.offsetHeight;\n\n                const elemTop = elem.offsetTop;\n                const elemBottom = elemTop + elem.offsetHeight\n\n                return ((elemBottom <= parentViewBottom) && (elemTop >= parentViewTop));\n            }\n\n            function showNextMonth(){\n                currentYear = (currentMonth === 11) ? currentYear + 1 : currentYear;\n                currentMonth = (currentMonth + 1) % 12;\n\n                const div = document.createElement('div');\n                div.innerText = months[currentMonth];\n                wrapper.appendChild(div);\n\n                showMonth(currentMonth, currentYear);\n            }\n\n            function showMonth(month, year){\n                const firstDay = (new Date(year, month)).getDay();\n                const daysInMonth = 32 - new Date(year, month, 32).getDate();\n                const ul = document.createElement('ul');\n                let date = 1;\n\n                for(let i=0; i<6; i++){\n                    //create individual cells, and filling them up with data\n                    for(let j=0; j<7; j++){\n                        if(i === 0 && j < firstDay-1){\n                            const li = document.createElement('li');\n                            li.innerText = '';\n                            li.classList.add('past');\n                            ul.appendChild(li);\n                        }\n                        else if(date > daysInMonth) break;\n                        else{\n                            const li = document.createElement('li');\n                            li.innerText = date;\n                            if(date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) li.classList.add('today');\n                            else if(new Date(year, month, date) < today) li.classList.add('past');\n                            else if(j === 6 || j === 5) li.classList.add('weekend'); \n\n                            if(!li.classList.contains('past')){\n                                li.addEventListener('mouseover', e => {\n                                    navUl.innerHTML = '';\n                                    const p = document.createElement('p');\n                                    let date2 = new Date(year, month, li.innerText);\n                                    \n                                    p.innerText = `${days[date2.getDay()]} ${date2.getDate()} ${months[date2.getMonth()]} ${year === today.getFullYear() ? '' : year}`;\n                                    p.innerText += ` - ${tasks.howManyTasksInSpecifiedDay(date2).length} tasks due`;\n                                    p.style.cssText = 'grid-area: 1 / 1 / 2 / -1; align-self: center; justify-self: center; font-size: .85rem; color: #737373';\n                                    navUl.appendChild(p);\n                                });\n                                li.addEventListener('mouseout', e => {\n                                    navUl.innerHTML = '';\n                                    navUlElements.forEach(el => navUl.appendChild(el));\n                                });\n                                li.addEventListener('click', e => {\n                                    let date2 = new Date(year, month, e.currentTarget.innerText);\n                                    if(!changeDataObj)data.dateUtilFunctions.styleDueDateBtnFun(date2);\n                                    data.dueDate = data.dateUtilFunctions.formatDateFun(date2);\n                                    if(!changeDataObj)_hideElWithClass(/date-picker/, 'show');\n                                    input.value = data.dueDate.toText();\n                                });\n                            }\n                            ul.appendChild(li);\n                            date++;\n                        }\n                    }\n                }\n                wrapper.appendChild(ul);\n            }\n        }\n    }\n\n    const _resetValuesAddTaskContainer = function(){\n        data.priority = null;\n        data.dueDate = null;\n        data.projectName = null;\n        data.labels = null;\n        data.taskName.value = '';\n        data.description.value = '';\n        data.allUniqueMatchesInsideTaskName = [];\n        data.transparentFilterBg.style.display = 'none';\n\n        // reset due date btn and date picker\n        const dueDateBtn = data.addTaskContainer.querySelector('.top .due-date'); \n        const input = data.addTaskContainer.querySelector('.due-date .date-picker .type-date input');\n        const btn = dueDateBtn.querySelector('.btn');\n        const img = btn.querySelector('img');\n        const inputValidationText = data.addTaskContainer.querySelector('.date-picker .input-validation-text');\n        const anyTasksText = inputValidationText.querySelector('div:first-of-type div p:nth-of-type(2)');\n        const fullDateTypedInInput = inputValidationText.querySelector('div:first-of-type div p:first-of-type');\n        const eventIcon = inputValidationText.querySelector('div:first-of-type img');\n        const icon = data.addTaskContainer.querySelector('.date-picker .type-date .icon img');\n        input.value = '';\n        btn.innerText = 'Today';\n        btn.insertBefore(img, btn.firstChild);\n        btn.style.color = '#059669';\n        img.style.filter = 'invert(39%) sepia(96%) saturate(520%) hue-rotate(115deg) brightness(92%) contrast(96%)';\n        icon.src = `${light}`;\n        icon.style.filter = 'invert(23%) sepia(2%) saturate(3000%) hue-rotate(349deg) brightness(87%) contrast(82%)';\n        eventIcon.src = eventBusy;\n        fullDateTypedInInput.innerText = 'No results';\n        anyTasksText.innerText = '';\n\n        // reset project picker and select project btn\n        const selectProjBtn = data.addTaskContainer.querySelector('.bottom .select-project');\n        const projectChecked = data.addTaskContainer.querySelectorAll('.bottom .project-picker img.projectChecked');\n        const inboxChecked = data.addTaskContainer.querySelector('.bottom .project-picker .inbox img.projectChecked');\n\n        selectProjBtn.innerHTML = `<img src=\"${inboxIcon}\" alt=\"select-project\"><p>Inbox</p><img src=\"${moreSvg}\" alt=\"expand\">`;\n        projectChecked.forEach(el => el.classList.contains('active') ? el.classList.remove('active') : el);\n        inboxChecked.classList.add('active');\n\n        // reset priority picker\n        const priorityBtn = data.addTaskContainer.querySelector('.top .priority .btn');\n        const choices = data.addTaskContainer.querySelectorAll('.top .priority .priority-picker > div');\n\n        choices.forEach(el => el.classList.contains('prio4') ? el.classList.add('checked') : el.classList.remove('checked'));\n        priorityBtn.innerHTML = `<img class=\"svg\" src=\"${flagOutline}\" alt=\"more\">Priority`;\n\n        // reset label picker\n        const options = data.addTaskContainer.querySelectorAll('.top .label .label-picker > div');\n        options.forEach(el => el.classList.contains('checked') ? el.classList.remove('checked') : el);\n        \n        // remove red boxes inside task name input\n        const wrapper = data.addTaskContainer.querySelector('.top .inputs div:first-of-type');\n        const allRedBoxes = wrapper.querySelectorAll('.label-added');     \n        allRedBoxes.forEach(el => wrapper.removeChild(el));\n\n        // reset add task btn\n        data.addBtn.style.cssText = 'opacity: 0.6; cursor:not-allowed;';\n        data.addBtn.removeEventListener('click', _addTask);\n    };\n\n    const _discardCurrentTaskAlert = function(hideTaskBox){\n        const alertBox = document.querySelector('.alert-box');\n        const cancel = document.querySelector('.alert-box .buttons button:first-of-type');\n        const xBtn = document.querySelector('.alert-box .icons .close');\n        const discardBtn = document.querySelector('.alert-box .buttons button:last-of-type');\n        const filterBg = document.querySelector('.filter-background');\n        alertBox.style.display = 'flex';\n        filterBg.style.display = 'block';\n                \n        document.removeEventListener('click', activateButtons);\n        document.addEventListener('click', alertBoxDecision);\n\n        function alertBoxDecision(e){\n            if((e.target != alertBox && !alertBox.contains(e.target)) || e.target === cancel || (e.target === xBtn || xBtn.contains(e.target))){ \n                alertBox.style.display = 'none';\n                filterBg.style.display = 'none';\n                document.removeEventListener('click', alertBoxDecision);\n                document.addEventListener('click', activateButtons);\n                return;\n            }\n            else if(e.target === discardBtn){\n                alertBox.style.display = 'none';\n                filterBg.style.display = 'none';\n                hideTaskBox();\n                document.removeEventListener('click', alertBoxDecision);\n                document.addEventListener('click', activateButtons);\n            }\n        }\n    };\n\n    const updateButtonsContentBasedOnTab = (subProjectEl = null) => {\n        const [...allTabs] = document.querySelectorAll('.main-container > .container');\n        const currTab = allTabs.find(tab => window.getComputedStyle(tab, null).display === 'block');\n        \n        if(currTab.classList.contains('today')){\n            const today = new Date();\n            data.dueDate = formatDate(today);\n            styleDueDateBtn(today);\n        }else if(!currTab.classList.contains('upcoming') && !currTab.classList.contains('filters')){\n            const currProj = projects.getAllProjects().find(project => currTab.classList.contains(project.name.toLowerCase()));\n            const selectProjectBtn = data.addTaskContainer.querySelector('.bottom .select-project');\n            if(subProjectEl && subProjectEl.classList.length > 0){\n                const subProj = currProj.subProjects.findIndex(el => subProjectEl.classList.contains(el.name.toLowerCase()));\n                selectProjectBtn.innerHTML = currProj.getTemplateHTML(subProj) + `<img src=\"${moreSvg}\" alt=\"expand\">`;\n                data.projectName = {element: currProj, subProjectIndex: subProj};\n            }else{\n                selectProjectBtn.innerHTML = currProj.getTemplateHTML() + `<img src=\"${moreSvg}\" alt=\"expand\">`;\n                data.projectName = {element: currProj, subProjectIndex: null};\n            }\n            styleDueDateBtn(null);\n        }\n    };\n\n    function activateButtons(e){\n        const isAnyOfButtonsClicked = data.showHideBtn.findIndex(item => e.target === item.btn || item.btn.contains(e.target));\n        const isBtnToggleElClicked = data.showHideBtn.find(item => e.target === item.el || (item.el.contains(e.target)&&e.target != data.cancelBtn));\n        \n        if(isAnyOfButtonsClicked != -1){\n            if(data.addTaskContainer === document.querySelector('#content > .add-task-container')) data.transparentFilterBg.style.display = 'block';\n            const i = isAnyOfButtonsClicked;\n            const itemsWithSameLayer = data.showHideBtn.filter(item => item.layer === data.showHideBtn[i].layer && item != data.showHideBtn[i]);\n            \n            hideItemsOnTheSameLayer();\n            showClickedItem();\n            \n            function showClickedItem(){\n                if(data.showHideBtn[i].el.classList.contains('add-task-container')) updateButtonsContentBasedOnTab();\n                \n                data.showHideBtn[i].active = true;\n                _activateChoices(data.showHideBtn[i].btn, data.showHideBtn[i].el, data.showHideBtn[i].className);\n                data.showHideBtn[i].el.classList.toggle(data.showHideBtn[i].className);\n            }\n\n            function hideItemsOnTheSameLayer(){\n                itemsWithSameLayer.forEach(item => {\n                    item.active = false;\n                    item.el.classList.remove(item.className);\n                });\n            }\n        }\n        else{\n            const onlyActive = data.showHideBtn.filter(item => item.active);\n            \n            if(onlyActive.length > 0){\n                const sortByLayer = onlyActive.sort((a,b) => b.layer - a.layer);\n                \n                if(isBtnToggleElClicked != sortByLayer[0] && !(data.labelBox.classList.contains('show') && sortByLayer[0].layer === 1)){\n                    if((sortByLayer[0].el === data.addTaskContainer && data.taskName.value != '')||\n                    (sortByLayer[0].el === data.addTaskContainer && data.taskName.value != '' && e.target === data.cancelBtn)){\n                        _discardCurrentTaskAlert(() => {\n                            _resetValuesAddTaskContainer();\n                            sortByLayer[0].active = false;\n                            sortByLayer[0].el.classList.remove(sortByLayer[0].className);\n                        });\n                    }\n                    else{\n                        if((sortByLayer[0].el === data.addTaskContainer)||(sortByLayer[0].el === data.addTaskContainer && e.target === data.cancelBtn)) \n                            _resetValuesAddTaskContainer();\n                        sortByLayer[0].active = false;\n                        sortByLayer[0].el.classList.remove(sortByLayer[0].className);\n                    }\n                }   \n            }\n        }\n\n        // Hide label-box \n        if(e.target != data.taskName && e.target != data.labelBox && !data.labelBox.contains(e.target)){\n            data.labelBox.classList.remove('show');\n        }\n    }\n\n    const getAllButtons = function(includeContainer){\n        data.showHideBtn.push({\n            el: data.addTaskContainer.querySelector('.date-picker'),\n            btn: data.addTaskContainer.querySelector('.flex-container > div:first-child .btn'),\n            className: 'show',\n            layer: 2,\n            active: false\n        });\n\n        data.showHideBtn.push({\n            el: data.addTaskContainer.querySelector('.flex-container > .priority .priority-picker'),\n            btn: data.addTaskContainer.querySelector('.flex-container > .priority .btn'),\n            className: 'show',\n            layer: 2,\n            active: false\n        });\n        \n        data.showHideBtn.push({\n            el: data.addTaskContainer.querySelector('.label-picker'),\n            btn: data.addTaskContainer.querySelector('.flex-container > .label .btn'),\n            className: 'show',\n            layer: 2,\n            active: false\n        });\n\n        data.showHideBtn.push({\n            el: data.addTaskContainer.querySelector('.bottom .project-picker'),\n            btn: data.addTaskContainer.querySelector('.bottom .select-project'),\n            className: 'show',\n            layer: 2,\n            active: false\n        });\n\n        if(includeContainer){\n            data.showHideBtn.push({\n                el: data.addTaskContainer,\n                btn: document.querySelector('.top-panel .add-task'),\n                className: 'toggleAddTask',\n                layer: 1,\n                active: false\n            });\n        }\n\n        data.showHideBtn.push({\n            el: data.addTaskContainer.querySelector('.date-picker .add-time .time-picker'),\n            btn: data.addTaskContainer.querySelector('.date-picker .add-time p'),\n            className: 'show',\n            layer: 3,\n            active: false\n        });\n    };\n\n    getAllButtons(true);\n\n    return{\n        getAllButtons,\n        createData,\n        events,\n        setData,\n        setAllUniqueMatchesInsideTaskName,\n        contentPriorityBtn,\n        styleDueDateBtn,\n        setEditMode,\n        getTaskData,\n        setTaskData,\n        datePicker,\n        getDueDate,\n        updateButtonsContentBasedOnTab\n    };\n\n})();\n\nexport default addTaskBox","export const tabSwitch = function(disable = false){\n    const tabsButtons = document.querySelectorAll('.sidebar li');\n    const [...tabs] = document.querySelectorAll('.main-container > .container');\n    \n    !disable ? tabsButtons.forEach(btn => btn.addEventListener('click', toggle)) : tabsButtons.forEach(btn => btn.removeEventListener('click', toggle))\n\n    function toggle(e){\n        let tabName = e.currentTarget.querySelector('p').innerText;\n        if(tabName === 'Filters & Labels') tabName = 'filters';\n        const elToShow = tabs.find(tab => tab.classList.contains(`${tabName.toLowerCase()}`));\n        tabs.forEach(tab => tab.style.display = 'none');\n        elToShow.style.display = 'block';\n    }\n};\n","export const toggleSidebarProjects = () => {\n    const btn = document.querySelector('.sidebar ul:last-of-type > figcaption > img:last-of-type');\n    const projects = document.querySelectorAll('.sidebar ul:last-of-type > li');\n    let visible = true;\n\n    btn.addEventListener('click', e => {\n        if(visible){\n            visible = false;\n            btn.style.cssText = 'transform: rotate(90deg); transition: 200ms;';\n            projects.forEach(project => project.style.cssText = 'transform: scaleX(0); transition: 200ms; transform-origin: -100% 50%;');\n        }else{\n            visible = true;\n            btn.style.cssText = 'transform: rotate(0deg); transition: 200ms;';\n            projects.forEach(project => project.style.cssText = 'transform: scaleX(1); transition: 200ms; transform-origin: -100% 50%;');\n        }\n    });\n};","import projects from \"./projects\";\nimport { toggleSidebarProjects } from \"./toggleSidebarProjects\";\nimport options from '../assets/icons/options-outline.svg';\nimport moreDots from '../assets/icons/more-dots.svg';\nimport { tabSwitch } from \"./tabSwitch\";\nimport addTaskBoxInline from \"./addTaskBoxInline\";\n\nconst addProjects = (function(){\n    const addProjectBox = document.querySelector('.add-project');\n    let addProjectBtn = document.querySelector('.sidebar ul:last-of-type > figcaption > img:first-of-type');\n    const cancel = document.querySelector('.add-project > .buttons > button:first-of-type');\n    const add = document.querySelector('.add-project > .buttons > button:last-of-type');\n    const input = document.querySelector('.add-project > .inputs > input');\n    const colorBtn = document.querySelector('.add-project > .inputs > .color-btn');\n    const colorPicker = document.querySelector('.add-project > .inputs > .color-picker');\n    const noValidMessage = document.querySelector('.add-project > .inputs > .noValid');\n    let isColorPickerVisible = false;\n    const capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n    const _projectTemplate = name => `\n    <div class=\"container ${name} project\">\n        <div class=\"title\">\n            <h3>${capitalizeFirstLetter(name)}</h3>\n            <div class=\"view\">\n                <img class=\"svg grayFilter\" src=\"${options}\" alt=\"options\">\n                <p>View</p>\n            </div>\n            <div class=\"more\">\n                <img class=\"svg grayFilter\" src=\"${moreDots}\" alt=\"more\">\n            </div>\n        </div>\n        <ul></ul>\n        <div class=\"add-task\">\n            <div>+</div>\n            <p>Add task</p>\n        </div>\n        <div class=\"add-section\">\n            <div></div>\n            <p>Add section</p>\n            <div></div>\n        </div>\n    </div>`;\n\n    input.addEventListener('input', e => {\n        const re = new RegExp(`^${e.target.value}$`, 'i');\n        const isInExisting = projects.getAllProjects().find(project => re.test(project.name));\n        if(isInExisting){\n            noValidMessage.style.display = 'block';\n            input.style.outline = '1px solid red';\n        }else{\n            noValidMessage.style.display = 'none';\n            input.style.outline = '1px solid green';\n        }\n    \n        if(e.target.value === '' || isInExisting){\n            add.style.opacity = '.5';\n            add.style.cursor = 'not-allowed';\n            add.removeEventListener('click', addProject);\n        }else{\n            add.style.opacity = '1';\n            add.style.cursor = 'pointer';\n            add.addEventListener('click', addProject);\n        }\n    });\n\n    function addProject(){\n        const project = projects.createProject(input.value, colorBtn.innerText.toLowerCase());\n        const el = new DOMParser().parseFromString(_projectTemplate(input.value.trim()), 'text/html').querySelector('div');\n        tabSwitch(true);\n\n        document.removeEventListener('click', hideAddProjBox);\n        toggleAddProjBox(false);\n        projects.updateProjectPicker();\n        projects.updateProjectsSidebar();\n        addProjectBtn = document.querySelector('.sidebar ul:last-of-type > figcaption > img:first-of-type');\n        addProjectBtn.addEventListener('click', init);\n        toggleSidebarProjects();\n        \n        el.querySelector('div.add-task').addEventListener('click', addTaskBoxInline.showAddTaskBox);\n        document.querySelector('.main-container').appendChild(el);\n        tabSwitch();\n    }\n\n    addProjectBtn.addEventListener('click', init);\n\n    function init(e){\n        e.stopImmediatePropagation();\n        toggleAddProjBox(true);\n        document.addEventListener('click', hideAddProjBox);\n    }\n\n    colorBtn.addEventListener('click', e => {\n        if(isColorPickerVisible){\n            isColorPickerVisible = false;\n            colorPicker.style.display = 'none';\n        }else{\n            createColorPickerContent();\n            isColorPickerVisible = true;\n            colorPicker.style.display = 'block';\n        }\n    });\n\n    const createColorPickerContent = () => {\n        const template = (value, name) => `<div><div style=\"background-color: ${value};\"></div>${name}</div>`;\n        const project = projects.getAllProjects()[1];\n        const projectOriginalColor = project.color;\n        const colors = project.availableColors;\n        colorPicker.innerHTML = '';\n        colors.forEach(color => {\n            project.color = color;\n            const el = new DOMParser().parseFromString(template(project.colorValue, color), 'text/html').querySelector('div');\n            el.addEventListener('click', pickColor.bind({value: project.colorValue, color: color}));\n            function pickColor(e){\n                isColorPickerVisible = false;\n                colorPicker.style.display = 'none';\n                colorBtn.innerHTML = `<div style=\"background-color: ${this.value};\"></div>${this.color}`;\n            }\n            colorPicker.appendChild(el);\n        });\n        project.color = projectOriginalColor;\n    };\n\n    function hideAddProjBox(e){\n        if(e.target != addProjectBox && !addProjectBox.contains(e.target) || e.target === cancel){\n            toggleAddProjBox(false);\n            document.removeEventListener('click', hideAddProjBox);\n        }\n    }\n\n    function toggleAddProjBox(show){\n        const addProjEl = document.querySelector('.add-project');\n        const grayFilter = document.querySelector('.filter-background');\n        if(show){\n            addProjEl.style.display = 'block';\n            grayFilter.style.display = 'block';\n        }else{\n            addProjEl.style.display = 'none';\n            grayFilter.style.display = 'none';\n            input.value = '';\n            isColorPickerVisible = false;\n            colorPicker.style.display = 'none';\n            colorBtn.innerHTML = `<div style=\"background-color: #737373;\"></div>Neutral`;\n            add.style.opacity = '.5';\n            add.style.cursor = 'not-allowed';\n            add.removeEventListener('click', addProject);\n            input.style.outline = '1px solid #cacaca';\n        }\n    };\n})();\n\nexport default addProjects","import projects from \"./projects\";\nimport addTaskBoxInline from \"./addTaskBoxInline\";\n\nconst addSections = (function(){\n    const [...projectsEls] = document.querySelectorAll('.main-container > .project');\n    const buttons = document.querySelectorAll('.main-container > .project > .add-section');\n    const template = `\n    <div class=\"add-section-box\">\n        <input type=\"text\" placeholder=\"Name this section\">\n        <p class=\"noValid\">Section already exists!</p>\n        <div class=\"buttons\">\n            <button type=\"button\">Add section</button>\n            <button type=\"button\">Cancel</button>\n        </div>\n    </div>\n    `;\n    const sectionTemplate = name => `\n    <ul class=\"${name.toLowerCase()}\">\n        <figcaption>\n            <h4>${name}</h4>\n        </figcaption>\n    </ul>\n    <div class=\"add-task\">\n        <div>+</div>\n        <p>Add task</p>\n    </div>\n    <div class=\"add-section\">\n        <div></div>\n        <p>Add section</p>\n        <div></div>\n    </div>`;\n\n    buttons.forEach(button => button.addEventListener('click', addSectionBox));\n\n    function addSectionBox(e){\n        const el = new DOMParser().parseFromString(template, 'text/html').querySelector('div');\n        const clickedBtn = e.currentTarget;\n        clickedBtn.style.display = 'none';\n        clickedBtn.after(el);\n        const currProjEl = projectsEls.find(projEl => projEl.contains(el));\n        const currProj = projects.getAllProjects().find(proj => currProjEl.classList.contains(proj.name.toLowerCase()));\n    \n        const input = el.querySelector('input');\n        const addBtn = el.querySelector('.buttons > button:first-of-type');\n        const cancelBtn = el.querySelector('.buttons > button:last-of-type');\n        const noValidMessage = el.querySelector('.noValid');\n\n        addBtn.addEventListener('click', addSubProj);\n        cancelBtn.addEventListener('click', cancel);\n\n        input.addEventListener('input', e => {\n            const re = new RegExp(`^${e.target.value}$`,'i');\n            const isInSubProj = currProj.subProjects.find(subProj => re.test(subProj.name));\n\n            if(isInSubProj){\n                noValidMessage.style.display = 'block';\n                input.style.outline = '1px solid red';\n            }else{\n                noValidMessage.style.display = 'none';\n                input.style.outline = '1px solid green';\n            }\n        \n            if(e.target.value === '' || isInSubProj){\n                addBtn.style.opacity = '.5';\n                addBtn.style.cursor = 'not-allowed';\n                addBtn.removeEventListener('click', addSubProj);\n            }else{\n                addBtn.style.opacity = '1';\n                addBtn.style.cursor = 'pointer';\n                addBtn.addEventListener('click', addSubProj);\n            }\n        });\n\n        function cancel(e){\n            el.remove();\n            clickedBtn.style.display = 'flex';\n        }\n\n        function addSubProj(e){\n            currProj.createSubProject(input.value);\n            console.log(currProj);\n            const sectionElements = new DOMParser().parseFromString(sectionTemplate(input.value), 'text/html').querySelectorAll('body > *');\n            clickedBtn.after(sectionElements[0]);\n            sectionElements[0].after(sectionElements[1]);\n            sectionElements[1].after(sectionElements[2]);\n            cancel();\n\n            sectionElements[1].addEventListener('click', addTaskBoxInline.showAddTaskBox);\n            sectionElements[2].addEventListener('click', addSectionBox);\n            projects.updateProjectPicker();\n        }\n    }\n})();\n\nexport default addSections","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import { createTaskHTMLContent } from \"./createTaskHTMLContent\";\nimport tasks from \"./tasks\";\nimport { startOfWeek, isEqual } from \"date-fns\";\n\nconst upcomingTab = (function(){\n    const upcomingContainer = document.querySelector('.upcoming');\n    const mainContainer = document.querySelector('.main-container');\n    const taskAndWrapperTemplate = (date, taskTemplate) =>`\n    <ul>\n        <figcaption>\n            <h4>${date}</h4>\n        </figcaption>\n        ${taskTemplate}\n    </ul>\n    <div class=\"add-task\">\n        <div>+</div>\n        <p>Add task</p>\n    </div> `;\n    const tasksWithDate = tasks.getAllTasks().filter(task => task.dueDate);\n    const overdueTasks = arr => arr.filter(task => {\n        if(task.getDateObj()){\n            let date = new Date();\n            date.setHours(0,0,0,0);\n            return task.getDateObj() < date;\n        }else{\n            return false;\n        }\n    });\n    const allTasksInDayContent = (year, month, day) => {\n        let content = '';\n        tasksWithDate.forEach(task => {\n            if(day === task.dueDate.day && month === task.dueDate.month && year === task.dueDate.year){\n                content += createTaskHTMLContent(task);\n            }\n        });\n        return content;\n    };\n\n    createContent();\n    function createContent(){\n        const today = new Date();\n        let currentMonth = today.getMonth();\n        let currentYear = today.getFullYear();\n        const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];\n        const formatDate = (year,month,day) => {\n            const date = new Date(year, month, day);\n            return `${days[date.getDay()]} - ${date.getDate()} ${months[date.getMonth()]}${year != today.getFullYear() ? \" - \"+today.getFullYear() : \"\"}`;\n        };\n\n        showMonth(currentMonth, currentYear);\n        showNextMonth();\n        showNextMonth();\n        showNextMonth();\n        showNextMonth();\n        showNextMonth();\n        showNextMonth();\n        showNextMonth();\n        updateNavDays(today);\n\n        mainContainer.addEventListener('scroll', scrolling);\n        const [...navAllElements] = upcomingContainer.querySelectorAll('.nav > .week > div');\n        const navTodayElement = upcomingContainer.querySelector('.nav > .week > .today');\n        navTodayElement.classList.add('active');\n        const firstNavElement = upcomingContainer.querySelector('.nav > .week > div:first-of-type');\n        const lastNavElement = upcomingContainer.querySelector('.nav > .week > div:last-of-type');\n        const [...allTaskElements] = document.querySelectorAll('.upcoming > ul:not(.overdue)');\n        let scrolledWeeks = 0;\n        let currNavActiveElement = navTodayElement;\n        let lastTaskElement = document.querySelector('.upcoming > ul:nth-last-of-type(15)');\n        let todayTaskElement = document.querySelector('.upcoming > ul:nth-of-type(2)');\n        let currTaskElement = todayTaskElement;\n    \n        function scrolling(e){\n            const currScrollTop = mainContainer.scrollTop;\n\n            if(isScrolledIntoView(lastTaskElement, currScrollTop)){\n                showNextMonth();\n                lastTaskElement = document.querySelector('.upcoming > ul:nth-last-of-type(15)');\n            }\n            // FAST SCROLLING IS NOT WORKING \n            if(!isScrolledIntoView(currTaskElement, currScrollTop)){\n                currTaskElement = currTaskElement.nextElementSibling;\n                if(currTaskElement.classList.contains('add-task')) return;\n                else{\n                    currNavActiveElement.classList.remove('active');\n                    currNavActiveElement = currNavActiveElement.nextElementSibling;\n\n                    if(!currNavActiveElement){\n                        navAllElements.forEach(el => {\n                            el.classList.remove('past');\n                            el.classList.remove('today');\n                        });\n                        scrolledWeeks++;\n                        updateNavDays(new Date(today.getFullYear(), today.getMonth(), today.getDate() + scrolledWeeks * 7));\n                        currNavActiveElement = firstNavElement;\n                    }\n                    \n                    currNavActiveElement.classList.add('active');\n                }\n            }\n            /*else if(!currTaskElement.previousElementSibling.classList.contains('overdue') && isScrolledIntoView(currTaskElement.previousElementSibling, currScrollTop)){\n                currTaskElement = currTaskElement.previousElementSibling;\n                if(currTaskElement.classList.contains('add-task')) return;\n                else{\n                    currNavActiveElement.classList.remove('active');\n                    currNavActiveElement = currNavActiveElement.previousElementSibling;\n\n                    if(!currNavActiveElement){\n                        navAllElements.forEach(el => {\n                            el.classList.remove('past');\n                            el.classList.remove('today');\n                        });\n                        scrolledWeeks--;\n                        updateNavDays(new Date(today.getFullYear(), today.getMonth(), today.getDate() + scrolledWeeks * 7));\n                        currNavActiveElement = lastNavElement;\n                    }\n\n                    currNavActiveElement.classList.add('active');\n                }\n            }*/\n        }\n\n        function isScrolledIntoView(elem, scroll){\n            const parentViewTop = scroll+127.8;\n            const parentViewBottom = parentViewTop + mainContainer.offsetHeight;\n            const elemTop = elem.offsetTop;\n            const elemBottom = elemTop + elem.offsetHeight;\n            //console.log(parentViewTop,elemTop);\n            return ((elemBottom <= parentViewBottom) && (elemTop >= parentViewTop));\n        }\n        \n        function updateNavDays(dateObj){\n            const todayClone = today;\n            todayClone.setHours(0,0,0,0);\n            const weekElements = document.querySelectorAll('.upcoming > .nav > .week > div');\n            const startOfWeekDate = startOfWeek(dateObj, {weekStartsOn: 1});\n            weekElements.forEach((el, i) => {\n                const dayEl = el.querySelector('.dayNum');\n                const date = new Date(dateObj.getFullYear(), dateObj.getMonth(), startOfWeekDate.getDate() + i);\n                dayEl.textContent = date.getDate();\n                if(date < todayClone) el.classList.add('past');\n                else if(isEqual(date, todayClone))el.classList.add('today');\n            });\n        }\n\n        /*\n        function goToStart(){\n            nav.style.cssText = 'border: none;';\n            calendar.removeEventListener('scroll', scrolling);\n            currUl = calendarUl;\n            currUl.scrollIntoView({behavior: 'smooth', block: 'end'});\n            setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n        }\n        \n        function next(){  \n            nav.style.cssText = 'border-bottom: 1px solid gray;';\n            calendar.removeEventListener('scroll', scrolling);\n            if(!currUl.nextElementSibling.nextElementSibling.nextElementSibling){\n                showNextMonth();\n                showNextMonth();\n            }\n        \n            let nextUl = currUl.nextElementSibling.nextElementSibling;\n            nextUl.scrollIntoView({behavior: \"smooth\", block: 'nearest'});\n            currUl = nextUl;\n            setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n        }\n\n        function previous(){\n            if(currUl.previousElementSibling){\n                calendar.removeEventListener('scroll', scrolling);\n                let prevUl = currUl.previousElementSibling.previousElementSibling;\n                prevUl.scrollIntoView({behavior: 'smooth', block: 'end'});\n                currUl = prevUl;\n                if(!currUl.previousElementSibling) nav.style.cssText = 'border: none;';\n                setTimeout(() => calendar.addEventListener('scroll', scrolling),500);\n            }\n        }\n\n        */\n\n        function showNextMonth(){\n            currentYear = (currentMonth === 11) ? currentYear + 1 : currentYear;\n            currentMonth = (currentMonth + 1) % 12;\n\n            showMonth(currentMonth, currentYear);\n        }\n\n        function showMonth(month, year){\n            const firstDay = (new Date(year, month)).getDay();\n            const daysInMonth = 32 - new Date(year, month, 32).getDate();\n            let date = 1;\n\n            for(let i=0; i<6; i++){\n                //create individual cells, and filling them up with data\n                for(let j=0; j<7; j++){\n                    //if(i === 0 && j < firstDay-1){}\n                    if(date > daysInMonth) break;\n                    else{\n                        if(date === today.getDate() && year === today.getFullYear() && month === today.getMonth()){\n                            const template = taskAndWrapperTemplate(formatDate(year, month, date) + ' - Today', allTasksInDayContent(year, month, date));\n                            const range = document.createRange();\n                            const fragment = range.createContextualFragment(template);\n                            upcomingContainer.appendChild(fragment);\n                        }\n                        else if(!(new Date(year, month, date) < today)){\n                            const template = taskAndWrapperTemplate(formatDate(year, month, date), allTasksInDayContent(year, month, date));\n                            const range = document.createRange();\n                            const fragment = range.createContextualFragment(template);\n                            upcomingContainer.appendChild(fragment);\n                        }\n                        date++;\n                    }\n                }\n            }\n        }\n    }\n\n})();\n\nexport default upcomingTab","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isEqual\n * @category Common Helpers\n * @summary Are the given dates equal?\n *\n * @description\n * Are the given dates equal?\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Boolean} the dates are equal\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 July 2014 06:30:45.000 and 2 July 2014 06:30:45.500 equal?\n * const result = isEqual(\n *   new Date(2014, 6, 2, 6, 30, 45, 0),\n *   new Date(2014, 6, 2, 6, 30, 45, 500)\n * )\n * //=> false\n */\n\nexport default function isEqual(dirtyLeftDate, dirtyRightDate) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyLeftDate);\n  var dateRight = toDate(dirtyRightDate);\n  return dateLeft.getTime() === dateRight.getTime();\n}","export function toggleSidebar(){\n    const icon = document.querySelector('.top-panel.left ul li:first-child');\n    const sidebar = document.querySelector('.sidebar');\n    const main = document.querySelector('.main-container');\n    const addTaskContainer = document.querySelector('#content > .add-task-container');\n    \n    icon.addEventListener('click', e => {\n        sidebar.classList.contains('hide') ? main.style.cssText = `transform: translate(0); transition: transform 500ms;` :\n                                             main.style.cssText = `transform: translate(-${sidebar.offsetWidth/2}px); transition: transform 500ms`;\n        \n        sidebar.classList.toggle('hide');\n    });\n};","export function sidebarResize(){\n    const handler = document.querySelector('.sidebar .handler');\n    const grid = document.getElementById('content');\n    const body = document.querySelector('body');\n    let isHandlerDragging = false;\n    let startX;\n    let gridFirstColWidth;\n\n    document.addEventListener('mousedown', e => {\n        if(e.target === handler){\n            isHandlerDragging = true;\n            startX = e.clientX;\n            gridFirstColWidth = startX;\n            body.style.cursor = 'col-resize'\n        }\n    });\n\n    document.addEventListener('mousemove', e => {\n        if(!isHandlerDragging) return;\n        e.preventDefault();\n\n        let move = e.clientX - startX;\n        if(gridFirstColWidth + move < 420 && gridFirstColWidth + move > 230)\n            grid.style.cssText = `grid-template-columns: ${gridFirstColWidth + move}px 1fr;`;\n    });\n\n    document.addEventListener('mouseup', e => {\n        isHandlerDragging = false;\n        body.style.cursor = 'auto';\n    });\n};","export function searchBarFocus() {\n    const search = document.getElementById('search');\n    const label = document.querySelector('.top-panel ul li.search label');\n        \n    search.addEventListener('focus', e => {\n        label.style.setProperty('--searchBar-icon-color', 'invert(0%) sepia(0%) saturate(7483%) hue-rotate(312deg) brightness(100%) contrast(107%)');\n        search.style.setProperty('--searchBar-placeholder-color', '#000');\n        search.style.backgroundColor = '#fff';\n    });\n\n    search.addEventListener('focusout', e => {\n        label.style.setProperty('--searchBar-icon-color', 'invert(100%) sepia(0%) saturate(7500%) hue-rotate(198deg) brightness(123%) contrast(101%)');\n        search.style.setProperty('--searchBar-placeholder-color', '#fff');\n        search.style.removeProperty('background-color');\n    });\n};","import './main.css';\nimport { toggleSidebar } from './app/toggleSidebar';\nimport { sidebarResize } from './app/sidebarResize';\nimport { searchBarFocus } from './app/searchBarFocus';\nimport addTaskBox from './app/addTaskBox';\nimport todayTab from './app/todayTab';\nimport projectsTabs from './app/projectsTabs';\nimport editTaskBox from './app/editTaskBox';\nimport editDate from './app/editDate';\nimport { tabSwitch } from './app/tabSwitch';\nimport { toggleSidebarProjects } from './app/toggleSidebarProjects';\nimport addProjects from './app/addProjects';\nimport addSections from './app/addSections';\nimport taskFinished from './app/taskFinished';\nimport upcomingTab from './app/upcomingTab';\n\ntoggleSidebar();\nsidebarResize();\nsearchBarFocus();\ntabSwitch();\ntoggleSidebarProjects();\n\n\n\n"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","allProjects","projectPicker","querySelector","sidebarProjects","Project","name","color","_classCallCheck","subProjects","availableColors","key","value","push","subProjectIndex","arguments","undefined","concat","inbox","colorValue","get","updateProjectsSidebar","content","addIcon","moreIcon","forEach","el","more","innerHTML","updateProjectPicker","inboxTemplate","inboxIcon","checkBold","subProjectsContent","el2","pentagon","createSubProject","getAllProjects","createProject","project","trim","tasks","days","months","allTasks","createLabelTemplate","labelsArr","label","labelName","split","labelIcon","Task","priority","taskName","description","dueDate","projectName","labels","id","creationDate","Date","prototype","getDateObj","time","_construct","year","month","day","_toConsumableArray","pushToTasks","date1","date2","date3","createTask","_ref","_ref$priority","_ref$description","_ref$dueDate","_ref$projectName","element","projects","sideProjectIndex","_ref$labels","newTask","getFullYear","getMonth","getDate","weekDay","getDay","repeat","getHours","getMinutes","toText","taskTemplate","date","labelArr","isOverdue","check","calendarIcon","edit","comment","howManyTasksInSpecifiedDay","filter","task","getPriorityClassName","getAllTasks","taskNameWithoutLabels","howManyTasksInProject","removeTask","splice","findIndex","names","isInExistingLabels","currString","fullMatch","re","withoutAtSign","RegExp","test","createTaskHTMLContent","getTemplateHTML","taskIconsEventsManager","activate","showDatePicker","showEditTaskBox","showAddTaskBox","editDateIcons","querySelectorAll","editDateIcons2","allIcons","editTaskIcons","addButtons","addEventListener","once","removeEventListener","overdueEl","todayTasksEl","titleDate","setHours","overdueTasks","arr","todayTasks","isToday","insertAdjacentHTML","innerText","editTaskBox","taskContainer","addTaskContainer","projectsTabs","_toArray","slice","todayTabContainer","findTaskWithId","find","editTask","todayTab","taskEl","DOMParser","parseFromString","projectEl","subProjectEl","subProject","taskElement","replaceEl","classList","add","replaceWith","moveElToDestination","destination","remove","projectUl","appendChild","toLowerCase","contains","taskElementInsideOverdue","taskElementInsideToday","editDate","addTaskBoxInline","clone","cloneNode","topEl","currentTarget","parentNode","bottomEl","style","display","setUpEditTaskBox","editTaskContainer","taskId","dataset","addTaskBox","completeData","cancelBtn","addTaskBtn","resetAndDeleteTaskBox","bind","save","currTask","changes","Object","keys","saveChanges","priorityBtn","priorityPickerElements","selectProjectBtn","projectChecked","projectsNames","dispatchEvent","Event","focus","nextElementSibling","cssText","clonedDatePicker","clickedIcon","datePicker","stopImmediatePropagation","position","container","closest","changeDataObj","pickIcon","checkTarget","target","tagName","chosenDate","deleteAddTaskInlineBox","currTabUl","previousElementSibling","_setUpAddTaskBox","box","btn","deleteTaskBox","includes","projectSectionName","projectSectionEl","allTasksElements","buttons","taskDone","console","log","button","activateTaskDoneBtn","data","createData","showHideBtn","addBtn","labelBox","expandArrow","dateReqText","transparentFilterBg","isLabelBoxVisible","activeLabelBoxItem","currLabelBasedOnCaretPos","dateUtilFunctions","caretPos","allUniqueMatchesInsideTaskName","isLabelRepeated","editMode","setData","_addTask","template","subProjIndex","projName","subProjName","newTaskEl","taskFinished","item","active","className","_resetValuesAddTaskContainer","_checkTaskNameEmpty","events","disableArrows","preventDefault","lookForLabels","arrowMoveInsideLabelBox","activateButtons","toggle","selectionStart","_hideElWithClass","match","wrapper","allRedBoxes","currLabel","allMatches","removeChild","exec","str","start","index","end","redBox","_createRedBox","unique","map","i","indexOf","matches","existingLabels","_createLabelBoxContent","_showLabelBox","_labelBoxChooseByClicking","_getTextWidth","text","font","ctx","canvas","createElement","getContext","measureText","width","startStr","currStr","left","txtWidth","repeated","tag","span","labelElements","scrollTop","currActive","elHeight","viewport","elOffset","_labelBoxChoice","offsetHeight","currLab","currLabWithoutAtSign","restOfExistingLabel","regex","removeClass","classN","setTimeout","contentPriorityBtn","fullFlag","flagOutline","styleDueDateBtn","img","today","tomorrow","nextWeek","insertBefore","firstChild","_activateChoices","getTemplate","isPriorityPicker","isDatePicker","isLabelPicker","isProjectPicker","choices","children","labelPicker","checkMark","originalStr","strToAdd","pos","join","mainProjects","sideProjects","input","removeProperty","proj","clickedProject","moreSvg","sub","formatDate","icon","currDay","currMonth","currYear","inputValidationText","anyTasksText","fullDateTypedInInput","eventIcon","quickBtns","changeDateBtn","howManyDaysToWeekend","light","eventBusy","lightFull","eventAvailable","nextW","nextWEnd","inputVal","formattedDate","values","charAt","repeatDays","_date","getNextDayOfTheWeek","dayName","excludeToday","refDate","dayOfWeek","setDate","apply","_date2","_date3","_date4","_date5","_date6","_date7","_date8","invalidInput","setFullYear","txt","currentMonth","currentYear","currMonthEl","calendar","nav","navUl","navUlElements","previousBtn","goToStartBtn","nextBtn","scrolling","currUl","prevUl","scrollIntoView","behavior","block","calendarUl","showNextMonth","nextUl","showMonth","isScrolledIntoView","elem","parentViewTop","parentViewBottom","elemTop","offsetTop","div","firstDay","daysInMonth","ul","_loop","j","li","styleDueDateBtnFun","formatDateFun","createCalendar","dueDateBtn","selectProjBtn","inboxChecked","_discardCurrentTaskAlert","hideTaskBox","alertBox","cancel","xBtn","discardBtn","filterBg","alertBoxDecision","updateButtonsContentBasedOnTab","currTab","tab","getComputedStyle","currProj","subProj","isAnyOfButtonsClicked","isBtnToggleElClicked","layer","onlyActive","sortByLayer","sort","a","b","getAllButtons","includeContainer","setAllUniqueMatchesInsideTaskName","setEditMode","isEditMode","getTaskData","setTaskData","getDueDate","tabSwitch","disable","tabsButtons","tabs","tabName","elToShow","toggleSidebarProjects","visible","addProjectBox","addProjectBtn","colorBtn","colorPicker","noValidMessage","isColorPickerVisible","_projectTemplate","toUpperCase","options","moreDots","addProject","hideAddProjBox","toggleAddProjBox","init","isInExisting","outline","opacity","cursor","createColorPickerContent","projectOriginalColor","colors","show","addProjEl","grayFilter","projectsEls","sectionTemplate","addSectionBox","clickedBtn","after","currProjEl","projEl","addSubProj","sectionElements","isInSubProj","requiredArgs","required","args","TypeError","obj","Symbol","iterator","constructor","toDate","argument","argStr","toString","call","getTime","warn","stack","NaN","defaultOptions","getDefaultOptions","startOfWeek","dirtyDate","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","weekStartsOn","dirtyNumber","number","Number","isNaN","Math","ceil","floor","toInteger","locale","RangeError","diff","upcomingContainer","mainContainer","taskAndWrapperTemplate","tasksWithDate","allTasksInDayContent","updateNavDays","currScrollTop","lastTaskElement","currTaskElement","currNavActiveElement","navAllElements","scrolledWeeks","firstNavElement","navTodayElement","scroll","dateObj","todayClone","weekElements","startOfWeekDate","dayEl","textContent","dirtyLeftDate","dirtyRightDate","dateLeft","dateRight","isEqual","fragment","createRange","createContextualFragment","createContent","sidebar","main","startX","gridFirstColWidth","handler","grid","body","isHandlerDragging","search","offsetWidth","getElementById","clientX","move","setProperty","backgroundColor"],"sourceRoot":""}